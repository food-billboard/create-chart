# 1.22 

## 优化版本分支 

受到大佬鼓舞，所以这里调出了一个新的优化版本分支。  
这个分支将会使用新的后端服务，所以就新增一个新的环境变量作为区分`improve_prod`。  
服务器的地址还有一些细节都会做改变，但是全部基于环境变量区分，不影响之前的功能，当然可能做一些阉割。  

目前能想到的变动的话：
- 新增新类型的实时保存方法。  
- 文件上传变为普通的上传。  
- 去除`mock`数据方法。  
- 新增一个`main-improve`主干分支来存放优化代码。  
- 内置背景选择可通过后端查询选择。  

## 图标选择优化
图标不再是之前的去官网自行查看，而是直接预备一份图标列表可以直接选择  
这里记录一下直接获取官网所有图标名称的方法
```js
  const arr = [] 
  $$('#icons-list li > a .name').forEach(item => {
    arr.push(item.innerText)
  })
  console.log(JSON.stringify(arr))
```

## 增加快照
新增了大屏快照，方便留存备份。  
目前只支持静态版本和`improve`版本。  
- `improve`   
  `improve`版本为与后端接口同步处理，将快照保存在后端数据库中，后续在**分享**的链接中，展示的将是当前使用的快照，而非实际最新更改的大屏。  
  预览还是和之前保持一致，使用最新更改的记录。  
- 静态版本  
  因为静态版本没有后端，所以考虑将数据保存在**缓存**中，因为静态版本没有分享，预览即是实际的生产环境链接，所以预览时，直接从缓存中拿到当前的快照进行展示。   
  并且为了防止数据过多导致内存不足，后续会考虑增加弹窗提示告知用户删除部分数据（不过现在因为同时只能存在一个大屏，所以目前不会出现刚刚说的情况）。  
