"use strict";(self.webpackChunkcreate_chart=self.webpackChunkcreate_chart||[]).push([[9636],{25035:function(Ve,q,v){v.d(q,{Z:function(){return W}});var re=v(1413),_=v(67294),X={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},ee=X,k=v(84089),u=function(F,xe){return _.createElement(k.Z,(0,re.Z)((0,re.Z)({},F),{},{ref:xe,icon:ee}))};u.displayName="QuestionCircleOutlined";var W=_.forwardRef(u)},79043:function(Ve,q,v){v.r(q),v.d(q,{default:function(){return wi}});var re=v(96975),_=v(70916),X=v(45605),ee=v(94184),k=v.n(ee),u=v(67294),W=v(34104),de=v(97857),F=v.n(de),xe=v(19632),J=v.n(xe),Re=v(5574),H=v.n(Re),ye=v(90768),je=v(22270),bt=v(76345),fe=v(27808),o=v(85893);function He(a){return a==="string"?"\u5B57\u7B26\u578B\u5B57\u6BB5":a==="number"?"\u6570\u503C\u578B\u5B57\u6BB5":a==="number[]"?"\u6570\u503C\u578B\u6570\u7EC4\u5B57\u6BB5":a==="string[]"?"\u5B57\u7B26\u578B\u6570\u7EC4\u5B57\u6BB5":a==="boolean"?"\u5E03\u5C14\u578B\u5B57\u6BB5":"\u6570\u7EC4\u5B50\u9879"}var Ue=function(t){var i=(0,ye.Z)(t,{defaultValue:[]}),n=H()(i,2),r=n[0],c=n[1],l=(0,u.useCallback)(function(h,s){var d=h.id,p=r.findIndex(function(g){return g.id===d}),m=r[p],f=J()(r);f.splice(p,1,F()(F()({},m),{},{map:s})),c(f)},[c,r]),e=(0,u.useMemo)(function(){return[{key:"field",title:"\u5B57\u6BB5",dataIndex:"field",render:function(s,d){return(0,o.jsx)(bt.Z,{title:d.description,children:s})}},{key:"map",title:"\u6620\u5C04",dataIndex:"map",width:140,render:function(s,d){return(0,o.jsx)(je.Z,{className:"w-100",value:s,onChange:l.bind(null,d),placeholder:He(d.type)})}}]},[l]);return(0,o.jsx)(fe.Z,{columns:e,rowKey:"field",dataSource:r})},ze=Ue,M=v(87462),Z=v(4942),it=v(63606),Q=v(97937),oe=v(1413),be=v(45987),se=v(15671),te=v(43144),I=v(97326),ve=v(32531),Ne=v(51630),Ge=["className","prefixCls","style","active","status","iconPrefix","icon","wrapperStyle","stepNumber","disabled","description","title","subTitle","progressDot","stepIcon","tailContent","icons","stepIndex","onStepClick","onClick"];function Ye(a){return typeof a=="string"}var Qe=function(a){(0,ve.Z)(i,a);var t=(0,Ne.Z)(i);function i(){var n;(0,se.Z)(this,i);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return n=t.call.apply(t,[this].concat(c)),(0,Z.Z)((0,I.Z)(n),"onClick",function(){var e=n.props,h=e.onClick,s=e.onStepClick,d=e.stepIndex;h&&h.apply(void 0,arguments),s(d)}),n}return(0,te.Z)(i,[{key:"renderIconNode",value:function(){var r,c=this.props,l=c.prefixCls,e=c.progressDot,h=c.stepIcon,s=c.stepNumber,d=c.status,p=c.title,m=c.description,f=c.icon,g=c.iconPrefix,C=c.icons,S,E=k()("".concat(l,"-icon"),"".concat(g,"icon"),(r={},(0,Z.Z)(r,"".concat(g,"icon-").concat(f),f&&Ye(f)),(0,Z.Z)(r,"".concat(g,"icon-check"),!f&&d==="finish"&&(C&&!C.finish||!C)),(0,Z.Z)(r,"".concat(g,"icon-cross"),!f&&d==="error"&&(C&&!C.error||!C)),r)),j=u.createElement("span",{className:"".concat(l,"-icon-dot")});return e?typeof e=="function"?S=u.createElement("span",{className:"".concat(l,"-icon")},e(j,{index:s-1,status:d,title:p,description:m})):S=u.createElement("span",{className:"".concat(l,"-icon")},j):f&&!Ye(f)?S=u.createElement("span",{className:"".concat(l,"-icon")},f):C&&C.finish&&d==="finish"?S=u.createElement("span",{className:"".concat(l,"-icon")},C.finish):C&&C.error&&d==="error"?S=u.createElement("span",{className:"".concat(l,"-icon")},C.error):f||d==="finish"||d==="error"?S=u.createElement("span",{className:E}):S=u.createElement("span",{className:"".concat(l,"-icon")},s),h&&(S=h({index:s-1,status:d,title:p,description:m,node:S})),S}},{key:"render",value:function(){var r,c=this.props,l=c.className,e=c.prefixCls,h=c.style,s=c.active,d=c.status,p=d===void 0?"wait":d,m=c.iconPrefix,f=c.icon,g=c.wrapperStyle,C=c.stepNumber,S=c.disabled,E=c.description,j=c.title,y=c.subTitle,D=c.progressDot,O=c.stepIcon,R=c.tailContent,x=c.icons,b=c.stepIndex,w=c.onStepClick,N=c.onClick,T=(0,be.Z)(c,Ge),A=k()("".concat(e,"-item"),"".concat(e,"-item-").concat(p),l,(r={},(0,Z.Z)(r,"".concat(e,"-item-custom"),f),(0,Z.Z)(r,"".concat(e,"-item-active"),s),(0,Z.Z)(r,"".concat(e,"-item-disabled"),S===!0),r)),B=(0,oe.Z)({},h),L={};return w&&!S&&(L.role="button",L.tabIndex=0,L.onClick=this.onClick),u.createElement("div",(0,M.Z)({},T,{className:A,style:B}),u.createElement("div",(0,M.Z)({onClick:N},L,{className:"".concat(e,"-item-container")}),u.createElement("div",{className:"".concat(e,"-item-tail")},R),u.createElement("div",{className:"".concat(e,"-item-icon")},this.renderIconNode()),u.createElement("div",{className:"".concat(e,"-item-content")},u.createElement("div",{className:"".concat(e,"-item-title")},j,y&&u.createElement("div",{title:typeof y=="string"?y:void 0,className:"".concat(e,"-item-subtitle")},y)),E&&u.createElement("div",{className:"".concat(e,"-item-description")},E))))}}]),i}(u.Component),rt=["prefixCls","style","className","children","direction","type","labelPlacement","iconPrefix","status","size","current","progressDot","stepIcon","initial","icons","onChange","items"],Ae=function(a){(0,ve.Z)(i,a);var t=(0,Ne.Z)(i);function i(){var n;(0,se.Z)(this,i);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return n=t.call.apply(t,[this].concat(c)),(0,Z.Z)((0,I.Z)(n),"onStepClick",function(e){var h=n.props,s=h.onChange,d=h.current;s&&d!==e&&s(e)}),n}return(0,te.Z)(i,[{key:"render",value:function(){var r,c=this,l=this.props,e=l.prefixCls,h=l.style,s=h===void 0?{}:h,d=l.className,p=l.children,m=l.direction,f=l.type,g=l.labelPlacement,C=l.iconPrefix,S=l.status,E=l.size,j=l.current,y=l.progressDot,D=l.stepIcon,O=l.initial,R=l.icons,x=l.onChange,b=l.items,w=b===void 0?[]:b,N=(0,be.Z)(l,rt),T=f==="navigation",A=y?"vertical":g,B=k()(e,"".concat(e,"-").concat(m),d,(r={},(0,Z.Z)(r,"".concat(e,"-").concat(E),E),(0,Z.Z)(r,"".concat(e,"-label-").concat(A),m==="horizontal"),(0,Z.Z)(r,"".concat(e,"-dot"),!!y),(0,Z.Z)(r,"".concat(e,"-navigation"),T),r));return u.createElement("div",(0,M.Z)({className:B,style:s},N),w.filter(function(L){return L}).map(function(L,Y){var z=(0,oe.Z)({},L),U=O+Y;return S==="error"&&Y===j-1&&(z.className="".concat(e,"-next-error")),z.status||(U===j?z.status=S:U<j?z.status="finish":z.status="wait"),u.createElement(Qe,(0,M.Z)({},z,{active:U===j,stepNumber:U+1,stepIndex:U,key:U,prefixCls:e,iconPrefix:C,wrapperStyle:s,progressDot:y,stepIcon:D,icons:R,onStepClick:x&&c.onStepClick}))}))}}]),i}(u.Component);(0,Z.Z)(Ae,"Step",Qe),(0,Z.Z)(Ae,"defaultProps",{type:"default",prefixCls:"rc-steps",iconPrefix:"rc",direction:"horizontal",labelPlacement:"horizontal",initial:0,current:0,status:"process",size:"",progressDot:!1});var he=Ae,le=v(53124),en=v(25378),tn=v(97910),nn=v(50344);function an(a){return a.filter(function(t){return t})}function rn(a,t){if(a)return a;var i=(0,nn.Z)(t).map(function(n){if(u.isValidElement(n)){var r=n.props,c=(0,M.Z)({},r);return c}return null});return an(i)}var on=function(a,t){var i={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&t.indexOf(n)<0&&(i[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(a);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(a,n[r])&&(i[n[r]]=a[n[r]]);return i},Et=function(t){var i,n=t.percent,r=t.size,c=t.className,l=t.direction,e=t.items,h=t.responsive,s=h===void 0?!0:h,d=t.current,p=d===void 0?0:d,m=t.children,f=on(t,["percent","size","className","direction","items","responsive","current","children"]),g=(0,en.Z)(s),C=g.xs,S=u.useContext(le.E_),E=S.getPrefixCls,j=S.direction,y=u.useCallback(function(){return s&&C?"vertical":l},[C,l]),D=E("steps",t.prefixCls),O=E("",t.iconPrefix),R=rn(e,m),x=k()((i={},(0,Z.Z)(i,"".concat(D,"-rtl"),j==="rtl"),(0,Z.Z)(i,"".concat(D,"-with-progress"),n!==void 0),i),c),b={finish:u.createElement(it.Z,{className:"".concat(D,"-finish-icon")}),error:u.createElement(Q.Z,{className:"".concat(D,"-error-icon")})},w=function(T){var A=T.node,B=T.status;if(B==="process"&&n!==void 0){var L=r==="small"?32:40;return u.createElement("div",{className:"".concat(D,"-progress-icon")},u.createElement(tn.Z,{type:"circle",percent:n,width:L,strokeWidth:4,format:function(){return null}}),A)}return A};return u.createElement(he,(0,M.Z)({icons:b},f,{current:p,size:r,items:R,direction:y(),stepIcon:w,prefixCls:D,iconPrefix:O,className:x}))};Et.Step=he.Step;var St=Et,ke=v(32808),Me=v(96486),Dt=v(66960),sn=v(13769),ot=v.n(sn),Zt=v(88192),Be=v(19515),ce=v(71577),ln=v(84739),Le=v(12584),cn=function(t){return{versionChangeTooltip:t.global.screenData.extra.versionChangeTooltip}},un=function(t){return{setVersionChangeTooltip:function(n){return t({type:"global/setConfigChangeTooltip",value:n})}}},dn=v(58806),jt={},fn=["id","versionChangeTooltip","setVersionChangeTooltip","children"],vn=function(t){var i=t.id,n=t.versionChangeTooltip,r=t.setVersionChangeTooltip,c=t.children,l=ot()(t,fn),e=(0,u.useState)(1),h=H()(e,2),s=h[0],d=h[1],p=(0,u.useState)(!1),m=H()(p,2),f=m[0],g=m[1],C=(0,Zt.Vp)(),S=C.getState,E=(0,u.useMemo)(function(){return Object.entries(n).filter(function(x){return x[1][i]&&!x[1][i].read}).sort(function(x,b){return(0,Be.M7)(x[0],b[0])?-1:1}).map(function(x){var b=H()(x,2),w=b[0],N=b[1],T=(0,Me.findLast)(dn.Z,function(A){return A.version==w});return F()(F()({version:w},N[i]),{},{tooltip:T==null?void 0:T.tooltip[i]})})},[i,n]),j=(0,u.useCallback)(function(x){g(x)},[]),y=function(b){return Object.values(b).every(function(w){return w.read})},D=(0,u.useCallback)(function(x){g(!1),setTimeout(function(){var b=S().global.screenData.extra.versionChangeTooltip;b[x][i].read=!0;var w=b[x];if(y(w)){var N=Object.keys(b).filter(function(T){return(0,Be.M7)(x,T)});N.every(function(T){return y(b[T])})&&delete b[x]}r(F()({},b))},300)},[]),O=(0,u.useMemo)(function(){var x=E[s-1];if(!x)return null;var b=x.version,w=x.tooltip;return(0,o.jsxs)("div",{className:k()(jt["screen-component-config-change-tooltip"],"c-f-s"),children:[(0,o.jsx)("div",{className:"f-b",children:b}),(0,o.jsx)("div",{className:"m-tb-4",children:w}),(0,o.jsx)("div",{className:"ali-r",children:(0,o.jsx)(ce.Z,{size:"small",type:"primary",onClick:D.bind(null,b),children:"\u6211\u5DF2\u77E5\u6653"})})]})},[E,s]),R=(0,u.useCallback)(function(x){d(x)},[]);return!E.length&&O?(0,o.jsx)(o.Fragment,{children:c}):(0,o.jsx)(Le.Z,F()(F()({},l),{},{open:f,onOpenChange:j,title:(0,o.jsxs)("div",{className:jt["screen-component-config-change-tooltip"],children:[O,(0,o.jsx)(ln.Z,{size:"small",current:s,total:E.length,hideOnSinglePage:!0,pageSize:1,simple:!0,onChange:R,className:"m-t-4"})]}),iconStyle:{visibility:E.length?"visible":"hidden",pointerEvents:E.length?"all":"none"},children:(0,o.jsx)(X.Z,{})}))},hn=(0,W.connect)(cn,un)(vn),gn={"design-config-auto-update":"design-config-auto-update___l5DnQ"},pn=function(t){var i=t.value,n=i===void 0?{value:1,show:!1}:i,r=t.onChange,c=(0,u.useCallback)(function(e){r==null||r({show:!!e.target.checked})},[n,r]),l=(0,u.useCallback)(function(e){var h=parseFloat(e)||1;r==null||r({value:h})},[n,r]);return(0,o.jsxs)("div",{className:k()(gn["design-config-auto-update"],"design-config-format-font-size"),children:[(0,o.jsx)(ke.Z,{onChange:c,checked:!!n.show,children:"\u81EA\u52A8\u66F4\u65B0\u8BF7\u6C42"}),(0,o.jsx)(Dt.Z,{value:n.value||0,disabled:!n.show,onChange:l,controls:!1,validator:[{validator:function(h){return parseInt(h)>1},correctValue:1}]}),"  \u79D2\u4E00\u6B21",(0,o.jsx)(hn,{iconClassName:"m-l-4",id:"/DataConfig/ResponseData/AutoUpdate"})]})},mn=pn,Nt=v(80),Te=v(36137),st=v(19569),Ee=v(90700),Cn=function(t){var i=t.global.screenData.config.attr,n=i.filter,r=i.params,c=i.constants;return{filter:n,params:r,constants:c}},xn=function(t){return{}},yn=["filter","value","params","constants"],bn=function(t){var i=t.filter,n=t.value,r=t.params,c=t.constants,l=ot()(t,yn),e=(0,u.useState)(),h=H()(e,2),s=h[0],d=h[1];return(0,u.useEffect)(function(){Ee.ZP.getPipeFilterValue(n,i,r,c).then(function(p){d(p)})},[n,i,r,c]),(0,o.jsx)(st.Z,F()(F()({disabled:!0,language:"json",width:"312px",height:"240px",bordered:!0,autoFormat:!0,action:["copy","typesetting"]},l),{},{value:s}))},Tt=(0,W.connect)(Cn,xn)(bn),En=v(63463),Pe=v(37899),Sn=v(11032),lt=v(21478),Dn=v(71002),Zn=v(82225),Pt=v(96159),jn=v(98787);function We(a){return jn.Y.includes(a)}var Nn=function(t){var i,n=t.className,r=t.prefixCls,c=t.style,l=t.color,e=t.children,h=t.text,s=t.placement,d=s===void 0?"end":s,p=u.useContext(le.E_),m=p.getPrefixCls,f=p.direction,g=m("ribbon",r),C=We(l),S=k()(g,"".concat(g,"-placement-").concat(d),(i={},(0,Z.Z)(i,"".concat(g,"-rtl"),f==="rtl"),(0,Z.Z)(i,"".concat(g,"-color-").concat(l),C),i),n),E={},j={};return l&&!C&&(E.background=l,j.color=l),u.createElement("div",{className:"".concat(g,"-wrapper")},e,u.createElement("div",{className:S,style:(0,M.Z)((0,M.Z)({},E),c)},u.createElement("span",{className:"".concat(g,"-text")},h),u.createElement("div",{className:"".concat(g,"-corner"),style:j})))},Tn=Nn,Xe=v(97685);function It(a){var t=a.prefixCls,i=a.value,n=a.current,r=a.offset,c=r===void 0?0:r,l;return c&&(l={position:"absolute",top:"".concat(c,"00%"),left:0}),u.createElement("span",{style:l,className:k()("".concat(t,"-only-unit"),{current:n})},i)}function Pn(a,t,i){for(var n=a,r=0;(n+10)%10!==t;)n+=i,r+=i;return r}function In(a){var t=a.prefixCls,i=a.count,n=a.value,r=Number(n),c=Math.abs(i),l=u.useState(r),e=(0,Xe.Z)(l,2),h=e[0],s=e[1],d=u.useState(c),p=(0,Xe.Z)(d,2),m=p[0],f=p[1],g=function(){s(r),f(c)};u.useEffect(function(){var R=setTimeout(function(){g()},1e3);return function(){clearTimeout(R)}},[r]);var C,S;if(h===r||Number.isNaN(r)||Number.isNaN(h))C=[u.createElement(It,(0,M.Z)({},a,{key:r,current:!0}))],S={transition:"none"};else{C=[];for(var E=r+10,j=[],y=r;y<=E;y+=1)j.push(y);var D=j.findIndex(function(R){return R%10===h});C=j.map(function(R,x){var b=R%10;return u.createElement(It,(0,M.Z)({},a,{key:R,value:b,offset:x-D,current:x===D}))});var O=m<c?1:-1;S={transform:"translateY(".concat(-Pn(h,r,O),"00%)")}}return u.createElement("span",{className:"".concat(t,"-only"),style:S,onTransitionEnd:g},C)}var On=function(a,t){var i={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&t.indexOf(n)<0&&(i[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(a);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(a,n[r])&&(i[n[r]]=a[n[r]]);return i},wn=function(t){var i=t.prefixCls,n=t.count,r=t.className,c=t.motionClassName,l=t.style,e=t.title,h=t.show,s=t.component,d=s===void 0?"sup":s,p=t.children,m=On(t,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),f=u.useContext(le.E_),g=f.getPrefixCls,C=g("scroll-number",i),S=(0,M.Z)((0,M.Z)({},m),{"data-show":h,style:l,className:k()(C,r,c),title:e}),E=n;if(n&&Number(n)%1===0){var j=String(n).split("");E=j.map(function(y,D){return u.createElement(In,{prefixCls:C,count:Number(n),value:y,key:j.length-D})})}return l&&l.borderColor&&(S.style=(0,M.Z)((0,M.Z)({},l),{boxShadow:"0 0 0 1px ".concat(l.borderColor," inset")})),p?(0,Pt.Tm)(p,function(y){return{className:k()("".concat(C,"-custom-component"),y==null?void 0:y.className,c)}}):u.createElement(d,S,E)},Fn=wn,Rn=function(a,t){var i={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&t.indexOf(n)<0&&(i[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(a);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(a,n[r])&&(i[n[r]]=a[n[r]]);return i},Ot=function(t){var i,n,r=t.prefixCls,c=t.scrollNumberPrefixCls,l=t.children,e=t.status,h=t.text,s=t.color,d=t.count,p=d===void 0?null:d,m=t.overflowCount,f=m===void 0?99:m,g=t.dot,C=g===void 0?!1:g,S=t.size,E=S===void 0?"default":S,j=t.title,y=t.offset,D=t.style,O=t.className,R=t.showZero,x=R===void 0?!1:R,b=Rn(t,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","showZero"]),w=u.useContext(le.E_),N=w.getPrefixCls,T=w.direction,A=N("badge",r),B=p>f?"".concat(f,"+"):p,L=B==="0"||B===0,Y=p===null||L,z=(e!=null||s!=null)&&Y,U=C&&!L,ie=U?"":B,V=(0,u.useMemo)(function(){var ue=ie==null||ie==="";return(ue||L&&!x)&&!U},[ie,L,x,U]),$=(0,u.useRef)(p);V||($.current=p);var K=$.current,G=(0,u.useRef)(ie);V||(G.current=ie);var xt=G.current,Jt=(0,u.useRef)(U);V||(Jt.current=U);var nt=(0,u.useMemo)(function(){if(!y)return(0,M.Z)({},D);var ue={marginTop:y[1]};return T==="rtl"?ue.left=parseInt(y[0],10):ue.right=-parseInt(y[0],10),(0,M.Z)((0,M.Z)({},ue),D)},[T,y,D]),Fi=j!=null?j:typeof K=="string"||typeof K=="number"?K:void 0,Ri=V||!h?null:u.createElement("span",{className:"".concat(A,"-status-text")},h),Ai=!K||(0,Dn.Z)(K)!=="object"?void 0:(0,Pt.Tm)(K,function(ue){return{style:(0,M.Z)((0,M.Z)({},nt),ue.style)}}),ki=k()((i={},(0,Z.Z)(i,"".concat(A,"-status-dot"),z),(0,Z.Z)(i,"".concat(A,"-status-").concat(e),!!e),(0,Z.Z)(i,"".concat(A,"-status-").concat(s),We(s)),i)),qt={};s&&!We(s)&&(qt.background=s);var _t=k()(A,(n={},(0,Z.Z)(n,"".concat(A,"-status"),z),(0,Z.Z)(n,"".concat(A,"-not-a-wrapper"),!l),(0,Z.Z)(n,"".concat(A,"-rtl"),T==="rtl"),n),O);if(!l&&z){var Mi=nt.color;return u.createElement("span",(0,M.Z)({},b,{className:_t,style:nt}),u.createElement("span",{className:ki,style:qt}),h&&u.createElement("span",{style:{color:Mi},className:"".concat(A,"-status-text")},h))}return u.createElement("span",(0,M.Z)({},b,{className:_t}),l,u.createElement(Zn.ZP,{visible:!V,motionName:"".concat(A,"-zoom"),motionAppear:!1,motionDeadline:1e3},function(ue){var Ce,Bi=ue.className,Li=N("scroll-number",c),yt=Jt.current,Wi=k()((Ce={},(0,Z.Z)(Ce,"".concat(A,"-dot"),yt),(0,Z.Z)(Ce,"".concat(A,"-count"),!yt),(0,Z.Z)(Ce,"".concat(A,"-count-sm"),E==="small"),(0,Z.Z)(Ce,"".concat(A,"-multiple-words"),!yt&&xt&&xt.toString().length>1),(0,Z.Z)(Ce,"".concat(A,"-status-").concat(e),!!e),(0,Z.Z)(Ce,"".concat(A,"-status-").concat(s),We(s)),Ce)),at=(0,M.Z)({},nt);return s&&!We(s)&&(at=at||{},at.background=s),u.createElement(Fn,{prefixCls:Li,show:!V,motionClassName:Bi,className:Wi,count:xt,title:Fi,style:at,key:"scrollNumber"},Ai)}),Ri)};Ot.Ribbon=Tn;var wt=Ot,An={"design-config-data-empty":"design-config-data-empty___PJ5Od","design-config-data":"design-config-data___t05hC","design-config-data-title":"design-config-data-title___vdYUL","design-config-data-title-sub":"design-config-data-title-sub___Qy9MS","design-config-data-detail-title":"design-config-data-detail-title___ArnvP"},kn=function(t){var i=t.children,n=t.visible,r=n===void 0?!0:n,c=(0,u.useMemo)(function(){return r?"processing":"default"},[r]);return(0,o.jsxs)("div",{className:An["design-config-data-detail-title"],children:[(0,o.jsx)(wt,{status:c,size:"default"}),i]})},ct=kn,Mn=v(15009),Ie=v.n(Mn),Bn=v(99289),ut=v.n(Bn),Ln=v(13149),Wn=function(t){return{params:t.global.screenData.config.attr.params,constants:t.global.screenData.config.attr.constants}},$n=function(t){return{}},Kn=function(t){var i=t.onChange,n=t.value,r=t.params,c=t.constants,l=t.componentId,e=n.request.type,h=(0,u.useCallback)(ut()(Ie()().mark(function s(){var d;return Ie()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,Ee.ZP.requestData(l,n,r,c);case 2:d=m.sent,i==null||i({request:{value:d}});case 4:case"end":return m.stop()}},s)})),[n,i,r]);return(0,o.jsxs)(ct,{children:["\u6570\u636E\u54CD\u5E94\u7ED3\u679C",e!=="static"&&(0,o.jsx)(Le.Z,{title:"\u91CD\u65B0\u83B7\u53D6\u6570\u636E",children:(0,o.jsx)(Ln.Z,{className:"m-l-4",onClick:h})})]})},Vn=(0,W.connect)(Wn,$n)(Kn),Ft={"design-config-data-detail-sub-title":"design-config-data-detail-sub-title___IYgBm","design-config-data-detail-sub-form":"design-config-data-detail-sub-form___pya3t"},Hn=function(t){var i=t.children;return(0,o.jsx)("div",{className:Ft["design-config-data-detail-sub-title"],children:i})},ne=function(t){var i=t.children;return(0,o.jsx)("div",{className:Ft["design-config-data-detail-sub-form"],children:i})},ge=Hn,Un=v(9783),pe=v.n(Un),zn=v(45210),Gn=v(80454),Yn=v.n(Gn),Rt=v(5298),Qn=v(24969),Je={"design-config-data-filter":"design-config-data-filter___CjLGr","design-config-data-filter-add-item-btn":"design-config-data-filter-add-item-btn___HZwC1","design-config-data-filter-add-item-select":"design-config-data-filter-add-item-select___XVe3C","design-config-data-filter-disabled":"design-config-data-filter-disabled___XoMnW"},$i=Pe.Z.Option,Xn=function(t){var i=t.dataSource,n=t.onClick,r=t.value,c=t.onChange,l=t.btnDisabled,e=(0,u.useMemo)(function(){return i.filter(function(s){return r.every(function(d){return d.id!==s.id})})},[i,r]),h=(0,u.useCallback)(function(s){if(!r.find(function(p){return p.id===s})){var d=[].concat(J()(r),[{disabled:!1,id:s}]);c==null||c(d)}},[r,c]);return(0,o.jsxs)("div",{className:k()("dis-flex"),children:[(0,o.jsx)(Pe.Z,{className:Je["design-config-data-filter-add-item-select"],onSelect:h,size:"middle",value:"",options:e.map(function(s){return{label:s.name,value:s.id}})}),(0,o.jsx)(ce.Z,{className:Je["design-config-data-filter-add-item-btn"],onClick:n,size:"middle",type:"default",ghost:!0,icon:(0,o.jsx)(Qn.Z,{}),disabled:!!l})]})},Jn=Xn,qn=function(t){return{filter:t.global.screenData.config.attr.filter}},_n=function(t){return{setCallbackData:function(n){return t({type:"global/setCallbackData",value:n})}}},dt=v(94334),ft=v(82963),vt=v(61120),ht=v(73935),ea=v(41143),Se=v.n(ea),ta=v(74902),na=v(45697),P=v.n(na),aa=function(){function a(){(0,se.Z)(this,a),(0,Z.Z)(this,"refs",{})}return(0,te.Z)(a,[{key:"add",value:function(i,n){this.refs[i]||(this.refs[i]=[]),this.refs[i].push(n)}},{key:"remove",value:function(i,n){var r=this.getIndex(i,n);r!==-1&&this.refs[i].splice(r,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var i=this;return this.refs[this.active.collection].find(function(n){var r=n.node;return r.sortableInfo.index==i.active.index})}},{key:"getIndex",value:function(i,n){return this.refs[i].indexOf(n)}},{key:"getOrderedRefs",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.active.collection;return this.refs[i].sort(ia)}}]),a}();function ia(a,t){var i=a.node.sortableInfo.index,n=t.node.sortableInfo.index;return i-n}function Ki(a,t,i){return a=a.slice(),a.splice(i<0?a.length+i:i,0,a.splice(t,1)[0]),a}function At(a,t){return Object.keys(a).reduce(function(i,n){return t.indexOf(n)===-1&&(i[n]=a[n]),i},{})}var Oe={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},kt=function(){if(typeof window=="undefined"||typeof document=="undefined")return"";var a=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(a).join("").match(/-(moz|webkit|ms)-/)||a.OLink===""&&["","o"])[1];switch(t){case"ms":return"ms";default:return t&&t.length?t[0].toUpperCase()+t.substr(1):""}}();function qe(a,t){Object.keys(t).forEach(function(i){a.style[i]=t[i]})}function _e(a,t){a.style["".concat(kt,"Transform")]=t==null?"":"translate3d(".concat(t.x,"px,").concat(t.y,"px,0)")}function gt(a,t){a.style["".concat(kt,"TransitionDuration")]=t==null?"":"".concat(t,"ms")}function $e(a,t){for(;a;){if(t(a))return a;a=a.parentNode}return null}function Mt(a,t,i){return Math.max(a,Math.min(i,t))}function we(a){return a.substr(-2)==="px"?parseFloat(a):0}function ra(a){var t=window.getComputedStyle(a);return{bottom:we(t.marginBottom),left:we(t.marginLeft),right:we(t.marginRight),top:we(t.marginTop)}}function pt(a,t){var i=t.displayName||t.name;return i?"".concat(a,"(").concat(i,")"):a}function mt(a,t){var i=a.getBoundingClientRect();return{top:i.top+t.top,left:i.left+t.left}}function Ke(a){return a.touches&&a.touches.length?{x:a.touches[0].pageX,y:a.touches[0].pageY}:a.changedTouches&&a.changedTouches.length?{x:a.changedTouches[0].pageX,y:a.changedTouches[0].pageY}:{x:a.pageX,y:a.pageY}}function oa(a){return a.touches&&a.touches.length||a.changedTouches&&a.changedTouches.length}function et(a,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{left:0,top:0};if(a){var n={left:i.left+a.offsetLeft,top:i.top+a.offsetTop};return a.parentNode===t?n:et(a.parentNode,t,n)}}function sa(a,t,i){return a<i&&a>t?a-1:a>i&&a<t?a+1:a}function Bt(a){var t=a.lockOffset,i=a.width,n=a.height,r=t,c=t,l="px";if(typeof t=="string"){var e=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);Se()(e!==null,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',t),r=parseFloat(t),c=parseFloat(t),l=e[1]}return Se()(isFinite(r)&&isFinite(c),"lockOffset value should be a finite. Given %s",t),l==="%"&&(r=r*i/100,c=c*n/100),{x:r,y:c}}function la(a){var t=a.height,i=a.width,n=a.lockOffset,r=Array.isArray(n)?n:[n,n];Se()(r.length===2,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",n);var c=(0,Xe.Z)(r,2),l=c[0],e=c[1];return[Bt({height:t,lockOffset:l,width:i}),Bt({height:t,lockOffset:e,width:i})]}function ca(a){var t=window.getComputedStyle(a),i=/(auto|scroll)/,n=["overflow","overflowX","overflowY"];return n.find(function(r){return i.test(t[r])})}function Lt(a){return a instanceof HTMLElement?ca(a)?a:Lt(a.parentNode):null}function ua(a){var t=window.getComputedStyle(a);return t.display==="grid"?{x:we(t.gridColumnGap),y:we(t.gridRowGap)}:{x:0,y:0}}var De={TAB:9,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40},Ze={Anchor:"A",Button:"BUTTON",Canvas:"CANVAS",Input:"INPUT",Option:"OPTION",Textarea:"TEXTAREA",Select:"SELECT"};function da(a){var t="input, textarea, select, canvas, [contenteditable]",i=a.querySelectorAll(t),n=a.cloneNode(!0),r=(0,ta.Z)(n.querySelectorAll(t));return r.forEach(function(c,l){if(c.type!=="file"&&(c.value=i[l].value),c.type==="radio"&&c.name&&(c.name="__sortableClone__".concat(c.name)),c.tagName===Ze.Canvas&&i[l].width>0&&i[l].height>0){var e=c.getContext("2d");e.drawImage(i[l],0,0)}}),n}function fa(a){var t,i,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return i=t=function(r){(0,ve.Z)(c,r);function c(){var l,e;(0,se.Z)(this,c);for(var h=arguments.length,s=new Array(h),d=0;d<h;d++)s[d]=arguments[d];return e=(0,ft.Z)(this,(l=(0,vt.Z)(c)).call.apply(l,[this].concat(s))),(0,Z.Z)((0,I.Z)((0,I.Z)(e)),"wrappedInstance",(0,u.createRef)()),e}return(0,te.Z)(c,[{key:"componentDidMount",value:function(){var e=(0,ht.findDOMNode)(this);e.sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return Se()(n.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.wrappedInstance.current}},{key:"render",value:function(){var e=n.withRef?this.wrappedInstance:null;return(0,u.createElement)(a,(0,M.Z)({ref:e},this.props))}}]),c}(u.Component),(0,Z.Z)(t,"displayName",pt("sortableHandle",a)),i}function Wt(a){return a.sortableHandle!=null}var va=function(){function a(t,i){(0,se.Z)(this,a),this.container=t,this.onScrollCallback=i}return(0,te.Z)(a,[{key:"clear",value:function(){this.interval!=null&&(clearInterval(this.interval),this.interval=null)}},{key:"update",value:function(i){var n=this,r=i.translate,c=i.minTranslate,l=i.maxTranslate,e=i.width,h=i.height,s={x:0,y:0},d={x:1,y:1},p={x:10,y:10},m=this.container,f=m.scrollTop,g=m.scrollLeft,C=m.scrollHeight,S=m.scrollWidth,E=m.clientHeight,j=m.clientWidth,y=f===0,D=C-f-E===0,O=g===0,R=S-g-j===0;r.y>=l.y-h/2&&!D?(s.y=1,d.y=p.y*Math.abs((l.y-h/2-r.y)/h)):r.x>=l.x-e/2&&!R?(s.x=1,d.x=p.x*Math.abs((l.x-e/2-r.x)/e)):r.y<=c.y+h/2&&!y?(s.y=-1,d.y=p.y*Math.abs((r.y-h/2-c.y)/h)):r.x<=c.x+e/2&&!O&&(s.x=-1,d.x=p.x*Math.abs((r.x-e/2-c.x)/e)),this.interval&&(this.clear(),this.isAutoScrolling=!1),(s.x!==0||s.y!==0)&&(this.interval=setInterval(function(){n.isAutoScrolling=!0;var x={left:d.x*s.x,top:d.y*s.y};n.container.scrollTop+=x.top,n.container.scrollLeft+=x.left,n.onScrollCallback(x)},5))}}]),a}();function ha(a){var t=a.node;return{height:t.offsetHeight,width:t.offsetWidth}}function ga(a){var t=[Ze.Input,Ze.Textarea,Ze.Select,Ze.Option,Ze.Button];return!!(t.indexOf(a.target.tagName)!==-1||$e(a.target,function(i){return i.contentEditable==="true"}))}var $t={axis:P().oneOf(["x","y","xy"]),contentWindow:P().any,disableAutoscroll:P().bool,distance:P().number,getContainer:P().func,getHelperDimensions:P().func,helperClass:P().string,helperContainer:P().oneOfType([P().func,typeof HTMLElement=="undefined"?P().any:P().instanceOf(HTMLElement)]),hideSortableGhost:P().bool,keyboardSortingTransitionDuration:P().number,lockAxis:P().string,lockOffset:P().oneOfType([P().number,P().string,P().arrayOf(P().oneOfType([P().number,P().string]))]),lockToContainerEdges:P().bool,onSortEnd:P().func,onSortMove:P().func,onSortOver:P().func,onSortStart:P().func,pressDelay:P().number,pressThreshold:P().number,keyCodes:P().shape({lift:P().arrayOf(P().number),drop:P().arrayOf(P().number),cancel:P().arrayOf(P().number),up:P().arrayOf(P().number),down:P().arrayOf(P().number)}),shouldCancelStart:P().func,transitionDuration:P().number,updateBeforeSortStart:P().func,useDragHandle:P().bool,useWindowAsScrollContainer:P().bool},Kt={lift:[De.SPACE],drop:[De.SPACE],cancel:[De.ESC],up:[De.UP,De.LEFT],down:[De.DOWN,De.RIGHT]},pa={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:ha,hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:Kt,shouldCancelStart:ga,transitionDuration:300,useWindowAsScrollContainer:!1},ma=Object.keys($t);function Ca(a){Se()(!(a.distance&&a.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}function xa(a,t){try{var i=a()}catch(n){return t(!0,n)}return i&&i.then?i.then(t.bind(null,!1),t.bind(null,!0)):t(!1,value)}var Vt=(0,u.createContext)({manager:{}});function ya(a){var t,i,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return i=t=function(r){(0,ve.Z)(c,r);function c(l){var e;(0,se.Z)(this,c),e=(0,ft.Z)(this,(0,vt.Z)(c).call(this,l)),(0,Z.Z)((0,I.Z)((0,I.Z)(e)),"state",{}),(0,Z.Z)((0,I.Z)((0,I.Z)(e)),"handleStart",function(s){var d=e.props,p=d.distance,m=d.shouldCancelStart;if(!(s.button===2||m(s))){e.touched=!0,e.position=Ke(s);var f=$e(s.target,function(y){return y.sortableInfo!=null});if(f&&f.sortableInfo&&e.nodeIsChild(f)&&!e.state.sorting){var g=e.props.useDragHandle,C=f.sortableInfo,S=C.index,E=C.collection,j=C.disabled;if(j||g&&!$e(s.target,Wt))return;e.manager.active={collection:E,index:S},!oa(s)&&s.target.tagName===Ze.Anchor&&s.preventDefault(),p||(e.props.pressDelay===0?e.handlePress(s):e.pressTimer=setTimeout(function(){return e.handlePress(s)},e.props.pressDelay))}}}),(0,Z.Z)((0,I.Z)((0,I.Z)(e)),"nodeIsChild",function(s){return s.sortableInfo.manager===e.manager}),(0,Z.Z)((0,I.Z)((0,I.Z)(e)),"handleMove",function(s){var d=e.props,p=d.distance,m=d.pressThreshold;if(!e.state.sorting&&e.touched&&!e._awaitingUpdateBeforeSortStart){var f=Ke(s),g={x:e.position.x-f.x,y:e.position.y-f.y},C=Math.abs(g.x)+Math.abs(g.y);e.delta=g,!p&&(!m||C>=m)?(clearTimeout(e.cancelTimer),e.cancelTimer=setTimeout(e.cancel,0)):p&&C>=p&&e.manager.isActive()&&e.handlePress(s)}}),(0,Z.Z)((0,I.Z)((0,I.Z)(e)),"handleEnd",function(){e.touched=!1,e.cancel()}),(0,Z.Z)((0,I.Z)((0,I.Z)(e)),"cancel",function(){var s=e.props.distance,d=e.state.sorting;d||(s||clearTimeout(e.pressTimer),e.manager.active=null)}),(0,Z.Z)((0,I.Z)((0,I.Z)(e)),"handlePress",function(s){try{var d=e.manager.getActive(),p=function(){if(d){var m=function(){var N=O.sortableInfo.index,T=ra(O),A=ua(e.container),B=e.scrollContainer.getBoundingClientRect(),L=C({index:N,node:O,collection:R});if(e.node=O,e.margin=T,e.gridGap=A,e.width=L.width,e.height=L.height,e.marginOffset={x:e.margin.left+e.margin.right+e.gridGap.x,y:Math.max(e.margin.top,e.margin.bottom,e.gridGap.y)},e.boundingClientRect=O.getBoundingClientRect(),e.containerBoundingRect=B,e.index=N,e.newIndex=N,e.axis={x:g.indexOf("x")>=0,y:g.indexOf("y")>=0},e.offsetEdge=et(O,e.container),x?e.initialOffset=Ke((0,dt.Z)({},s,{pageX:e.boundingClientRect.left,pageY:e.boundingClientRect.top})):e.initialOffset=Ke(s),e.initialScroll={left:e.scrollContainer.scrollLeft,top:e.scrollContainer.scrollTop},e.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},e.helper=e.helperContainer.appendChild(da(O)),qe(e.helper,{boxSizing:"border-box",height:"".concat(e.height,"px"),left:"".concat(e.boundingClientRect.left-T.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(e.boundingClientRect.top-T.top,"px"),width:"".concat(e.width,"px")}),x&&e.helper.focus(),E&&(e.sortableGhost=O,qe(O,{opacity:0,visibility:"hidden"})),e.minTranslate={},e.maxTranslate={},x){var Y=D?{top:0,left:0,width:e.contentWindow.innerWidth,height:e.contentWindow.innerHeight}:e.containerBoundingRect,z=Y.top,U=Y.left,ie=Y.width,V=Y.height,$=z+V,K=U+ie;e.axis.x&&(e.minTranslate.x=U-e.boundingClientRect.left,e.maxTranslate.x=K-(e.boundingClientRect.left+e.width)),e.axis.y&&(e.minTranslate.y=z-e.boundingClientRect.top,e.maxTranslate.y=$-(e.boundingClientRect.top+e.height))}else e.axis.x&&(e.minTranslate.x=(D?0:B.left)-e.boundingClientRect.left-e.width/2,e.maxTranslate.x=(D?e.contentWindow.innerWidth:B.left+B.width)-e.boundingClientRect.left-e.width/2),e.axis.y&&(e.minTranslate.y=(D?0:B.top)-e.boundingClientRect.top-e.height/2,e.maxTranslate.y=(D?e.contentWindow.innerHeight:B.top+B.height)-e.boundingClientRect.top-e.height/2);S&&S.split(" ").forEach(function(G){return e.helper.classList.add(G)}),e.listenerNode=s.touches?s.target:e.contentWindow,x?(e.listenerNode.addEventListener("wheel",e.handleKeyEnd,!0),e.listenerNode.addEventListener("mousedown",e.handleKeyEnd,!0),e.listenerNode.addEventListener("keydown",e.handleKeyDown)):(Oe.move.forEach(function(G){return e.listenerNode.addEventListener(G,e.handleSortMove,!1)}),Oe.end.forEach(function(G){return e.listenerNode.addEventListener(G,e.handleSortEnd,!1)})),e.setState({sorting:!0,sortingIndex:N}),y&&y({node:O,index:N,collection:R,isKeySorting:x,nodes:e.manager.getOrderedRefs(),helper:e.helper},s),x&&e.keyMove(0)},f=e.props,g=f.axis,C=f.getHelperDimensions,S=f.helperClass,E=f.hideSortableGhost,j=f.updateBeforeSortStart,y=f.onSortStart,D=f.useWindowAsScrollContainer,O=d.node,R=d.collection,x=e.manager.isKeySorting,b=function(){if(typeof j=="function"){e._awaitingUpdateBeforeSortStart=!0;var w=xa(function(){var N=O.sortableInfo.index;return Promise.resolve(j({collection:R,index:N,node:O,isKeySorting:x},s)).then(function(){})},function(N,T){if(e._awaitingUpdateBeforeSortStart=!1,N)throw T;return T});if(w&&w.then)return w.then(function(){})}}();return b&&b.then?b.then(m):m(b)}}();return Promise.resolve(p&&p.then?p.then(function(){}):void 0)}catch(m){return Promise.reject(m)}}),(0,Z.Z)((0,I.Z)((0,I.Z)(e)),"handleSortMove",function(s){var d=e.props.onSortMove;typeof s.preventDefault=="function"&&s.cancelable&&s.preventDefault(),e.updateHelperPosition(s),e.animateNodes(),e.autoscroll(),d&&d(s)}),(0,Z.Z)((0,I.Z)((0,I.Z)(e)),"handleSortEnd",function(s){var d=e.props,p=d.hideSortableGhost,m=d.onSortEnd,f=e.manager,g=f.active.collection,C=f.isKeySorting,S=e.manager.getOrderedRefs();e.listenerNode&&(C?(e.listenerNode.removeEventListener("wheel",e.handleKeyEnd,!0),e.listenerNode.removeEventListener("mousedown",e.handleKeyEnd,!0),e.listenerNode.removeEventListener("keydown",e.handleKeyDown)):(Oe.move.forEach(function(O){return e.listenerNode.removeEventListener(O,e.handleSortMove)}),Oe.end.forEach(function(O){return e.listenerNode.removeEventListener(O,e.handleSortEnd)}))),e.helper.parentNode.removeChild(e.helper),p&&e.sortableGhost&&qe(e.sortableGhost,{opacity:"",visibility:""});for(var E=0,j=S.length;E<j;E++){var y=S[E],D=y.node;y.edgeOffset=null,y.boundingClientRect=null,_e(D,null),gt(D,null),y.translate=null}e.autoScroller.clear(),e.manager.active=null,e.manager.isKeySorting=!1,e.setState({sorting:!1,sortingIndex:null}),typeof m=="function"&&m({collection:g,newIndex:e.newIndex,oldIndex:e.index,isKeySorting:C,nodes:S},s),e.touched=!1}),(0,Z.Z)((0,I.Z)((0,I.Z)(e)),"autoscroll",function(){var s=e.props.disableAutoscroll,d=e.manager.isKeySorting;if(s){e.autoScroller.clear();return}if(d){var p=(0,dt.Z)({},e.translate),m=0,f=0;e.axis.x&&(p.x=Math.min(e.maxTranslate.x,Math.max(e.minTranslate.x,e.translate.x)),m=e.translate.x-p.x),e.axis.y&&(p.y=Math.min(e.maxTranslate.y,Math.max(e.minTranslate.y,e.translate.y)),f=e.translate.y-p.y),e.translate=p,_e(e.helper,e.translate),e.scrollContainer.scrollLeft+=m,e.scrollContainer.scrollTop+=f;return}e.autoScroller.update({height:e.height,maxTranslate:e.maxTranslate,minTranslate:e.minTranslate,translate:e.translate,width:e.width})}),(0,Z.Z)((0,I.Z)((0,I.Z)(e)),"onAutoScroll",function(s){e.translate.x+=s.left,e.translate.y+=s.top,e.animateNodes()}),(0,Z.Z)((0,I.Z)((0,I.Z)(e)),"handleKeyDown",function(s){var d=s.keyCode,p=e.props,m=p.shouldCancelStart,f=p.keyCodes,g=f===void 0?{}:f,C=(0,dt.Z)({},Kt,g);e.manager.active&&!e.manager.isKeySorting||!e.manager.active&&(!C.lift.includes(d)||m(s)||!e.isValidSortingTarget(s))||(s.stopPropagation(),s.preventDefault(),C.lift.includes(d)&&!e.manager.active?e.keyLift(s):C.drop.includes(d)&&e.manager.active?e.keyDrop(s):C.cancel.includes(d)?(e.newIndex=e.manager.active.index,e.keyDrop(s)):C.up.includes(d)?e.keyMove(-1):C.down.includes(d)&&e.keyMove(1))}),(0,Z.Z)((0,I.Z)((0,I.Z)(e)),"keyLift",function(s){var d=s.target,p=$e(d,function(C){return C.sortableInfo!=null}),m=p.sortableInfo,f=m.index,g=m.collection;e.initialFocusedNode=d,e.manager.isKeySorting=!0,e.manager.active={index:f,collection:g},e.handlePress(s)}),(0,Z.Z)((0,I.Z)((0,I.Z)(e)),"keyMove",function(s){var d=e.manager.getOrderedRefs(),p=d[d.length-1].node.sortableInfo.index,m=e.newIndex+s,f=e.newIndex;if(!(m<0||m>p)){e.prevIndex=f,e.newIndex=m;var g=sa(e.newIndex,e.prevIndex,e.index),C=d.find(function(x){var b=x.node;return b.sortableInfo.index===g}),S=C.node,E=e.containerScrollDelta,j=C.boundingClientRect||mt(S,E),y=C.translate||{x:0,y:0},D={top:j.top+y.y-E.top,left:j.left+y.x-E.left},O=f<m,R={x:O&&e.axis.x?S.offsetWidth-e.width:0,y:O&&e.axis.y?S.offsetHeight-e.height:0};e.handleSortMove({pageX:D.left+R.x,pageY:D.top+R.y,ignoreTransition:s===0})}}),(0,Z.Z)((0,I.Z)((0,I.Z)(e)),"keyDrop",function(s){e.handleSortEnd(s),e.initialFocusedNode&&e.initialFocusedNode.focus()}),(0,Z.Z)((0,I.Z)((0,I.Z)(e)),"handleKeyEnd",function(s){e.manager.active&&e.keyDrop(s)}),(0,Z.Z)((0,I.Z)((0,I.Z)(e)),"isValidSortingTarget",function(s){var d=e.props.useDragHandle,p=s.target,m=$e(p,function(f){return f.sortableInfo!=null});return m&&m.sortableInfo&&!m.sortableInfo.disabled&&(d?Wt(p):p.sortableInfo)});var h=new aa;return Ca(l),e.manager=h,e.wrappedInstance=(0,u.createRef)(),e.sortableContextValue={manager:h},e.events={end:e.handleEnd,move:e.handleMove,start:e.handleStart},e}return(0,te.Z)(c,[{key:"componentDidMount",value:function(){var e=this,h=this.props.useWindowAsScrollContainer,s=this.getContainer();Promise.resolve(s).then(function(d){e.container=d,e.document=e.container.ownerDocument||document;var p=e.props.contentWindow||e.document.defaultView||window;e.contentWindow=typeof p=="function"?p():p,e.scrollContainer=h?e.document.scrollingElement||e.document.documentElement:Lt(e.container)||e.container,e.autoScroller=new va(e.scrollContainer,e.onAutoScroll),Object.keys(e.events).forEach(function(m){return Oe[m].forEach(function(f){return e.container.addEventListener(f,e.events[m],!1)})}),e.container.addEventListener("keydown",e.handleKeyDown)})}},{key:"componentWillUnmount",value:function(){var e=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach(function(h){return Oe[h].forEach(function(s){return e.container.removeEventListener(s,e.events[h])})}),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(e){var h=this.props,s=h.lockAxis,d=h.lockOffset,p=h.lockToContainerEdges,m=h.transitionDuration,f=h.keyboardSortingTransitionDuration,g=f===void 0?m:f,C=this.manager.isKeySorting,S=e.ignoreTransition,E=Ke(e),j={x:E.x-this.initialOffset.x,y:E.y-this.initialOffset.y};if(j.y-=window.pageYOffset-this.initialWindowScroll.top,j.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=j,p){var y=la({height:this.height,lockOffset:d,width:this.width}),D=(0,Xe.Z)(y,2),O=D[0],R=D[1],x={x:this.width/2-O.x,y:this.height/2-O.y},b={x:this.width/2-R.x,y:this.height/2-R.y};j.x=Mt(this.minTranslate.x+x.x,this.maxTranslate.x-b.x,j.x),j.y=Mt(this.minTranslate.y+x.y,this.maxTranslate.y-b.y,j.y)}s==="x"?j.y=0:s==="y"&&(j.x=0),C&&g&&!S&&gt(this.helper,g),_e(this.helper,j)}},{key:"animateNodes",value:function(){var e=this.props,h=e.transitionDuration,s=e.hideSortableGhost,d=e.onSortOver,p=this.containerScrollDelta,m=this.windowScrollDelta,f=this.manager.getOrderedRefs(),g={left:this.offsetEdge.left+this.translate.x+p.left,top:this.offsetEdge.top+this.translate.y+p.top},C=this.manager.isKeySorting,S=this.newIndex;this.newIndex=null;for(var E=0,j=f.length;E<j;E++){var y=f[E].node,D=y.sortableInfo.index,O=y.offsetWidth,R=y.offsetHeight,x={height:this.height>R?R/2:this.height/2,width:this.width>O?O/2:this.width/2},b=C&&D>this.index&&D<=S,w=C&&D<this.index&&D>=S,N={x:0,y:0},T=f[E].edgeOffset;T||(T=et(y,this.container),f[E].edgeOffset=T,C&&(f[E].boundingClientRect=mt(y,p)));var A=E<f.length-1&&f[E+1],B=E>0&&f[E-1];if(A&&!A.edgeOffset&&(A.edgeOffset=et(A.node,this.container),C&&(A.boundingClientRect=mt(A.node,p))),D===this.index){s&&(this.sortableGhost=y,qe(y,{opacity:0,visibility:"hidden"}));continue}h&&gt(y,h),this.axis.x?this.axis.y?w||D<this.index&&(g.left+m.left-x.width<=T.left&&g.top+m.top<=T.top+x.height||g.top+m.top+x.height<=T.top)?(N.x=this.width+this.marginOffset.x,T.left+N.x>this.containerBoundingRect.width-x.width&&A&&(N.x=A.edgeOffset.left-T.left,N.y=A.edgeOffset.top-T.top),this.newIndex===null&&(this.newIndex=D)):(b||D>this.index&&(g.left+m.left+x.width>=T.left&&g.top+m.top+x.height>=T.top||g.top+m.top+x.height>=T.top+R))&&(N.x=-(this.width+this.marginOffset.x),T.left+N.x<this.containerBoundingRect.left+x.width&&B&&(N.x=B.edgeOffset.left-T.left,N.y=B.edgeOffset.top-T.top),this.newIndex=D):b||D>this.index&&g.left+m.left+x.width>=T.left?(N.x=-(this.width+this.marginOffset.x),this.newIndex=D):(w||D<this.index&&g.left+m.left<=T.left+x.width)&&(N.x=this.width+this.marginOffset.x,this.newIndex==null&&(this.newIndex=D)):this.axis.y&&(b||D>this.index&&g.top+m.top+x.height>=T.top?(N.y=-(this.height+this.marginOffset.y),this.newIndex=D):(w||D<this.index&&g.top+m.top<=T.top+x.height)&&(N.y=this.height+this.marginOffset.y,this.newIndex==null&&(this.newIndex=D))),_e(y,N),f[E].translate=N}this.newIndex==null&&(this.newIndex=this.index),C&&(this.newIndex=S);var L=C?this.prevIndex:S;d&&this.newIndex!==L&&d({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:L,isKeySorting:C,nodes:f,helper:this.helper})}},{key:"getWrappedInstance",value:function(){return Se()(n.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.wrappedInstance.current}},{key:"getContainer",value:function(){var e=this.props.getContainer;return typeof e!="function"?(0,ht.findDOMNode)(this):e(n.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var e=n.withRef?this.wrappedInstance:null;return(0,u.createElement)(Vt.Provider,{value:this.sortableContextValue},(0,u.createElement)(a,(0,M.Z)({ref:e},At(this.props,ma))))}},{key:"helperContainer",get:function(){var e=this.props.helperContainer;return typeof e=="function"?e():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){var e=this.props.useWindowAsScrollContainer;return e?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),c}(u.Component),(0,Z.Z)(t,"displayName",pt("sortableList",a)),(0,Z.Z)(t,"defaultProps",pa),(0,Z.Z)(t,"propTypes",$t),i}var Ht={index:P().number.isRequired,collection:P().oneOfType([P().number,P().string]),disabled:P().bool},ba=Object.keys(Ht);function Ea(a){var t,i,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return i=t=function(r){(0,ve.Z)(c,r);function c(){var l,e;(0,se.Z)(this,c);for(var h=arguments.length,s=new Array(h),d=0;d<h;d++)s[d]=arguments[d];return e=(0,ft.Z)(this,(l=(0,vt.Z)(c)).call.apply(l,[this].concat(s))),(0,Z.Z)((0,I.Z)((0,I.Z)(e)),"wrappedInstance",(0,u.createRef)()),e}return(0,te.Z)(c,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(e){this.node&&(e.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),e.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),e.collection!==this.props.collection&&(this.unregister(e.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var e=this.props,h=e.collection,s=e.disabled,d=e.index,p=(0,ht.findDOMNode)(this);p.sortableInfo={collection:h,disabled:s,index:d,manager:this.context.manager},this.node=p,this.ref={node:p},this.context.manager.add(h,this.ref)}},{key:"unregister",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.collection;this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return Se()(n.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.wrappedInstance.current}},{key:"render",value:function(){var e=n.withRef?this.wrappedInstance:null;return(0,u.createElement)(a,(0,M.Z)({ref:e},At(this.props,ba)))}}]),c}(u.Component),(0,Z.Z)(t,"displayName",pt("sortableElement",a)),(0,Z.Z)(t,"contextType",Vt),(0,Z.Z)(t,"propTypes",Ht),(0,Z.Z)(t,"defaultProps",{collection:0}),i}var Sa=ya(function(a){var t=a.children;return(0,o.jsx)("div",{className:"sort-list-wrapper",children:t})}),Da=Sa,Ut=v(54907),Za=v(26713),ja=v(35020),Na=v(29751),zt=v(48689),Ta=v(14313),Pa=v(25035),Ia=v(11057),Oa=v(21709),wa=v(83825),Fa=v(55241),Ra=v(55171),Aa=v.n(Ra),ka=v(37993),me={"design-config-data-filter-list-item":"design-config-data-filter-list-item___Ah5Zf","design-config-data-filter-list-item-content":"design-config-data-filter-list-item-content___kKKRN","design-config-data-filter-list-item-header":"design-config-data-filter-list-item-header___lOMj1","design-config-data-filter-list-item-header-name":"design-config-data-filter-list-item-header-name___wKJvL","design-config-data-filter-list-item-header-action-right":"design-config-data-filter-list-item-header-action-right___biIPt","design-config-data-filter-list-item-header-action-right-info":"design-config-data-filter-list-item-header-action-right-info___EA9Ng","design-config-data-filter-list-item-action":"design-config-data-filter-list-item-action___bPdAO","design-config-data-filter-list-item-step-code":"design-config-data-filter-list-item-step-code___evBWW"},Ma=function(t){var i=t.id,n=(0,u.useMemo)(function(){return Ee.Cn[i]?Ee.Cn[i]:{errMsg:"\u8BBE\u8BA1\u5668\u5185\u90E8\u9519\u8BEF"}},[i]);return(0,o.jsx)("div",{className:me["design-config-data-filter-list-item-step-code"],onClick:function(c){c.stopPropagation(),c.preventDefault()},children:(0,o.jsx)(Aa(),{src:n,theme:"greenscreen",enableClipboard:!0,onEdit:!1,onDelete:!1,onAdd:!1,displayDataTypes:!1,displayObjectSize:!0,indentWidth:2,collapseStringsAfterLength:10,iconStyle:"square"})})},Ba=function(t){var i=(0,u.useState)(!1),n=H()(i,2),r=n[0],c=n[1],l=t.buttonProps,e=l===void 0?{}:l,h=t.id,s=(0,u.useCallback)(function(p){p.stopPropagation(),c(function(m){return!m})},[]),d=(0,u.useCallback)(function(p){p||c(p)},[]);return(0,o.jsx)(Fa.Z,{trigger:"click",content:(0,o.jsx)(Ma,{id:h}),mouseEnterDelay:1,open:r,onOpenChange:d,placement:"left",children:(0,o.jsx)(ce.Z,F()({className:"h-a m-r-4",type:"link",icon:(0,o.jsx)(ka.Z,{}),onClick:s},e))})},La=Ba,Wa=v(16536),$a=v(69677),Ka={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32zm-622.3-84c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9z"}}]},name:"edit",theme:"filled"},Va=Ka,Ha=v(84089),Gt=function(t,i){return u.createElement(Ha.Z,(0,oe.Z)((0,oe.Z)({},t),{},{ref:i,icon:Va}))};Gt.displayName="EditFilled";var Ua=u.forwardRef(Gt),za=function(t){var i=t.value,n=t.isHover,r=t.onChange,c=t.onFocus,l=t.onBlur,e=(0,u.useState)(i),h=H()(e,2),s=h[0],d=h[1],p=(0,u.useState)(!1),m=H()(p,2),f=m[0],g=m[1],C=(0,u.useCallback)(function(y){var D=y.target.value;d(D)},[]),S=(0,u.useCallback)(function(){if(!s.trim().length){Wa.ZP.info("\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"),d(i);return}r==null||r(s||i),g(!1),l==null||l()},[r,s,i]),E=function(D){D.stopPropagation()},j=(0,u.useCallback)(function(y){E(y)},[f]);return(0,o.jsx)("div",{className:me["design-config-data-filter-list-item-header-name"],onClick:j,children:f?(0,o.jsx)($a.Z,{value:s,onChange:C,onBlur:S,onClick:E,autoFocus:!0,onFocus:c}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"text-ellipsis",title:s,children:s}),(0,o.jsx)(ce.Z,{className:"h-a",type:"link",style:{visibility:n?"visible":"hidden"},icon:(0,o.jsx)(Ua,{}),onClick:function(D){E(D),g(!0)}})]})})},Ga=za,Ya=["props","onCodeCancel","onCodeConfirm","onChange","onComponentChange","isTemp","dragDisabled"],Qa=Ut.Z.Panel,Xa=fa(function(){return(0,o.jsx)(Na.Z,{className:"c-po"})}),Ja=function(t){var i,n,r=t.props,c=r.disabled,l=r.id,e=r.name,h=r.code,s=r.params,d=t.onCodeCancel,p=t.onCodeConfirm,m=t.onChange,f=t.onComponentChange,g=t.isTemp,C=t.dragDisabled,S=ot()(t,Ya),E=(0,u.useState)(g?{code:h}:null),j=H()(E,2),y=j[0],D=j[1],O=(0,u.useState)(g?l:""),R=H()(O,2),x=R[0],b=R[1],w=(0,u.useRef)(null),N=(0,ja.Z)(w),T=(0,u.useCallback)(function(){D(null),d==null||d(),b("")},[d]),A=(0,u.useCallback)(function(){p==null||p(y?F()({id:l},y):{id:l}),b(""),D(null)},[p,y,l]),B=(0,u.useCallback)(function(V,$,K){m==null||m($,pe()({id:l},V,K))},[l,m]),L=(0,u.useCallback)(function(V,$){var K,G=F()(F()({},y||{}),{},(K={},pe()(K,V,$),pe()(K,"id",l),K));D(G)},[l,y]),Y=(0,u.useCallback)(function(V,$,K){var G;f==null||f($,(G={},pe()(G,V,K),pe()(G,"id",l),G))},[f,l]),z=function($){$.stopPropagation()},U=(0,u.useMemo)(function(){return(0,o.jsxs)("div",{ref:w,className:k()("dis-flex","w-100",me["design-config-data-filter-list-item-header"]),children:[!C&&!g&&(0,o.jsx)(Xa,{}),(0,o.jsx)(La,{buttonProps:{style:{visibility:N&&!c?"visible":"hidden"}},id:l}),(0,o.jsx)(ke.Z,{checked:!c,onChange:function($){Y("disabled","update",!$.target.checked)},onClick:z,style:{visibility:g?"hidden":"visible"}}),(0,o.jsx)(Ga,{value:e,onChange:B.bind(null,"name","name-update"),isHover:N}),(0,o.jsxs)("div",{className:me["design-config-data-filter-list-item-header-action-right"],children:[(0,o.jsxs)("div",{className:me["design-config-data-filter-list-item-header-action-right-info"],children:["\u5171\u6709",(0,o.jsx)("span",{children:(0,o.jsx)(wa.p,{id:l})}),"\u4E2A\u7EC4\u4EF6\u4F7F\u7528"]}),(0,o.jsx)(ce.Z,{className:"h-a",type:"link",icon:(0,o.jsx)(zt.Z,{}),style:{visibility:N?"visible":"hidden"},onClick:function($){z($),Y("id","delete",null)}})]})]})},[c,e,Y,B,N,C]),ie=(0,u.useCallback)(function(V){var $=V.filter(function(K){return K===l});!$.includes(l)&&y||b($[0])},[l,y]);return(0,o.jsx)(Ut.Z,F()(F()({expandIcon:function($){var K=$.isActive;return(0,o.jsx)(Ta.Z,{rotate:K?90:0})},expandIconPosition:"end",className:me["design-config-data-filter-list-item"],activeKey:[x],onChange:ie,style:{zIndex:9999,opacity:1,visibility:"visible"}},S),{},{children:(0,o.jsxs)(Qa,{header:U,className:k()(pe()({},me["design-config-data-filter-list-item-content"],!!y)),children:[(0,o.jsxs)("p",{className:"m-t-4",children:["\u5168\u5C40\u53C2\u6570",(0,o.jsx)(Le.Z,{title:"\u53EF\u54CD\u5E94\u5F0F\u66F4\u65B0\u6570\u636E",children:(0,o.jsx)(Pa.Z,{className:"m-l-4"})})," \uFF1A"]}),(0,o.jsx)("div",{className:"p-lr-8",children:(0,o.jsx)(Ia.Z,{value:(i=y==null?void 0:y.params)!==null&&i!==void 0?i:s,onChange:L.bind(null,"params"),wrapperClassName:"m-t-4 m-b-8"})}),(0,o.jsx)(Oa.Z,{functionName:"filter"}),(0,o.jsx)(st.Z,{language:"javascript",width:426,height:180,value:(n=y==null?void 0:y.code)!==null&&n!==void 0?n:h,onChange:L.bind(null,"code")}),(0,o.jsx)("p",{children:"}"}),(0,o.jsxs)("div",{className:me["design-config-data-filter-list-item-action"],children:[(0,o.jsx)("div",{children:y&&(0,o.jsx)(wt,{status:"warning",text:"\u672A\u4FDD\u5B58"})}),(0,o.jsx)("div",{children:(0,o.jsxs)(Za.Z,{children:[(0,o.jsx)(ce.Z,{onClick:T,children:g?"\u53D6\u6D88":"\u64A4\u9500"}),(0,o.jsx)(ce.Z,{type:"primary",onClick:A,children:g?"\u4FDD\u5B58":"\u5B8C\u6210"})]})})]})]},l)}))},qa=Ea(Ja),_a=function(t){var i=t.disabled,n=t.filter,r=t.setCallbackData,c=t.id,l=(0,ye.Z)(t,{defaultValue:[]}),e=H()(l,2),h=e[0],s=e[1],d=(0,u.useCallback)(function(x){var b=x.value,w=x.filter;b&&s(b),Te.FW.emit(Te.JW.COMPONENT_FILTER_CHANGE,{id:c,filter:w,componentConfig:{filter:{value:b}}})},[]),p=(0,u.useState)(null),m=H()(p,2),f=m[0],g=m[1],C=(0,u.useMemo)(function(){return[].concat(J()(h),J()(f?[f]:[])).map(function(x){var b=n.find(function(w){return w.id===x.id});return F()(F()({},x),b||{})})},[h,f,n]),S=function(b){return b.map(function(w){return F()(F()({},w),{},{editable:!1})})},E=(0,u.useCallback)(function(x){var b=x.id;if(b===(f==null?void 0:f.id)){var w=[].concat(J()(n),[F()(F()({},f),x)]);r(w),d({value:[].concat(J()(h),[{id:b,disabled:!1}]),filter:w}),g(null)}else{var N=n.map(function(T){return T.id!==b?T:F()(F()({},T),x)});d({filter:N}),r(N)}},[n,r,f,h]),j=(0,u.useCallback)(function(x){var b=S(n);r(b),x===(f==null?void 0:f.id)&&g(null)},[r,f,n]),y=(0,u.useCallback)(function(x,b){if(x==="delete"){var w=h.filter(function(N){return N.id!==b.id});d({value:w}),b.id===(f==null?void 0:f.id)&&g(null)}else d({value:h.map(function(N){return N.id!==b.id?N:F()(F()({},N),b)})})},[h,f]),D=(0,u.useCallback)(function(x,b){if(x==="delete")b.id===(f==null?void 0:f.id)&&g(null);else if(b.id===(f==null?void 0:f.id))g(function(N){return F()(F()({},N),b)});else{var w=n.map(function(N){return N.id!==b.id?N:F()(F()({},N),b)});r(w),x!=="name-update"&&d({filter:w})}},[h,f]),O=(0,u.useCallback)(function(){if(!f){var x={id:(0,Rt.x0)(),editable:!0,name:"\u81EA\u5B9A\u4E49\u8FC7\u6EE4\u5668",code:Be.zT,params:[]};g(x)}},[f]),R=(0,u.useCallback)(function(x){var b=x.oldIndex,w=x.newIndex,N=h.reverse(),T=Yn()(N,b,w);d({value:T.reverse()})},[h]);return(0,zn.Z)(function(){r(S(n))}),(0,o.jsxs)("div",{className:k()("design-config-format-font-size","design-config-format-font-size-with-collapse",Je["design-config-data-filter"],pe()({},Je["design-config-data-filter-disabled"],i),"border-1"),children:[(0,o.jsx)(Da,{onSortEnd:R,useDragHandle:!0,distance:10,children:C.map(function(x,b){return(0,o.jsx)(qa,{props:x,index:b,onCodeConfirm:E,onCodeCancel:j.bind(null,x.id),onChange:D,onComponentChange:y,isTemp:x.id===(f==null?void 0:f.id)},x.id)})}),(0,o.jsx)(Jn,{dataSource:n,onClick:O,value:h,onChange:function(b){return d({value:b})},btnDisabled:!!f})]})},ei=(0,W.connect)(qn,_n)(_a),ti={"design-config-checkbox":"design-config-checkbox___rzLLc"},ni=function(t){return(0,o.jsx)(ke.Z,F()(F()({},t),{},{className:k()(ti["design-config-checkbox"],t.className)}))},Yt=ni,Ct=v(5433),Qt=v(6880),ai=v(11142),ii=v.n(ai),ri=function(t){try{return JSON.stringify(ii().parse(t||""))}catch(i){return t||""}},oi=function(t){var i=t.value,n=t.onChange,r=t.language,c=r===void 0?"json":r,l=(0,u.useState)(function(){return ri(i||"")}),e=H()(l,2),h=e[0],s=e[1],d=(0,u.useCallback)(function(p){n==null||n(p)},[n]);return(0,o.jsx)("div",{children:(0,o.jsx)(st.Z,{language:c,width:454,height:138,bordered:!0,value:h,onChange:s,onBlur:d,blurCanScroll:!0,autoFormat:{mount:c==="json",blur:!1}})})},tt=oi,si=function(t){return{params:t.global.screenData.config.attr.params,constants:t.global.screenData.config.attr.constants}},li=function(t){return{}},ci={"api-config-copy-text":"api-config-copy-text___DyMeA"},Xt=function(){return(0,o.jsx)(Le.Z,{title:"\u53EF\u4EE5\u4F7F\u7528\u5168\u5C40\u7684\u53D8\u91CF",children:(0,o.jsx)(X.Z,{className:"m-r-4"})})},ui=function(t){var i=t.onChange,n=t.value,r=t.params,c=t.constants,l=t.componentId,e=n.request,h=e.method,s=e.url,d=e.headers,p=e.body,m=e.serviceRequest,f=(0,u.useCallback)(function(){var g=ut()(Ie()().mark(function C(S){var E;return Ie()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,Ee.ZP.requestData(l,(0,Me.merge)({},n,{request:{url:S}}),r,c);case 2:E=y.sent,i==null||i({request:{url:S,value:E}});case 4:case"end":return y.stop()}},C)}));return function(C){return g.apply(this,arguments)}}(),[r,c,n]);return(0,o.jsxs)("div",{children:[(0,o.jsx)(ge,{children:"\u8BF7\u6C42\u65B9\u5F0F"}),(0,o.jsx)(ne,{children:(0,o.jsx)(Pe.Z,{className:"w-100",defaultValue:"POST",value:h,onChange:function(C){i==null||i({request:{method:C}})},options:[{label:"POST"},{label:"GET"}]})}),(0,o.jsxs)(ge,{children:[(0,o.jsx)(Le.Z,{title:(0,o.jsxs)("div",{className:"ali-l",children:["\u53EF\u4EE5\u4F7F\u7528\u5168\u5C40\u53D8\u91CF",(0,o.jsx)("br",{}),"\u53EF\u4EE5\u6839\u636E\u9700\u8981\u5BF9\u53C2\u6570\u6DFB\u52A0\u7279\u6B8A\u6807\u8BC6",(0,o.jsx)(Qt.Z.Paragraph,{className:ci["api-config-copy-text"],italic:!0,copyable:!0,children:Ct.JH}),'\u8868\u793A\u4E0D\u4F1A\u6839\u636E"\u53D8\u91CF"\u7684\u6539\u53D8\u800C\u8BF7\u6C42\u6570\u636E\u3002',(0,o.jsx)("br",{}),"\u6BD4\u5982\uFF1A",(0,o.jsxs)(Qt.Z.Paragraph,{style:{marginBottom:0},code:!0,children:["/api/request/","{{".concat(Ct.JH,"params}}"),"/url?userId=","{{".concat(Ct.JH,"userId}}")]})]}),children:(0,o.jsx)(X.Z,{className:"m-r-4"})}),"URL"]}),(0,o.jsx)(ne,{children:(0,o.jsx)(tt,{language:"txt",value:s,onChange:f})}),(0,o.jsxs)(ge,{children:[(0,o.jsx)(Xt,{}),"Headers"]}),(0,o.jsx)(ne,{children:(0,o.jsx)(tt,{value:d,onChange:function(C){i==null||i({request:{headers:C}})}})}),h==="POST"&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(ge,{children:[(0,o.jsx)(Xt,{}),"\u8BF7\u6C42\u53C2\u6570"]}),(0,o.jsx)(ne,{children:(0,o.jsx)(tt,{value:p,onChange:function(C){i==null||i({request:{body:C}})}})})]}),!lt.Z.IS_STATIC&&(0,o.jsx)(ne,{children:(0,o.jsx)(Yt,{checked:!!m,onChange:function(C){i==null||i({request:{serviceRequest:C.target.checked}})},children:"\u670D\u52A1\u7AEF\u8BF7\u6C42"})})]})},di=(0,W.connect)(si,li)(ui),fi=function(t){var i=t.value,n=t.onChange,r=(0,u.useCallback)(function(c){n==null||n({request:{value:Ee.ZP.stringDataToObject(c)}})},[n]);return(0,o.jsx)(tt,{onChange:r,value:i})},vi=fi,hi=function(t){return{params:t.global.screenData.config.attr.params,constants:t.global.screenData.config.attr.constants}},gi=function(t){return{}},pi=function(t){var i=t.value,n=i===void 0?[]:i,r=t.onChange,c=t.mockKindList,l=(0,u.useCallback)(function(d,p,m,f){var g=J()(n);g.splice(p,1,F()(F()({},d),{},pe()({},m,f))),r(g)},[r,n]),e=(0,u.useCallback)(function(d){var p=n.filter(function(m){return m.id!==d.id});r(p)},[n,r]),h=(0,u.useMemo)(function(){return[{key:"key",title:"\u5B57\u6BB5\u540D",dataIndex:"key",render:function(p,m,f){return(0,o.jsx)(je.Z,{className:"w-100",value:p,onChange:l.bind(null,m,f,"key")})}},{key:"dataKind",title:"\u6570\u636E\u79CD\u7C7B",dataIndex:"dataKind",width:140,render:function(p,m,f){return(0,o.jsx)(Pe.Z,{className:"w-100",value:p,onChange:l.bind(null,m,f,"dataKind"),options:c.map(function(g){return{label:g.value,value:g.id}})})}},{key:"description",title:"\u63CF\u8FF0",dataIndex:"description",render:function(p,m){var f=m.dataKind,g=c.find(function(C){return C.id===f});return(g==null?void 0:g.description)||"\u65E0\u63CF\u8FF0\u5185\u5BB9"}},{key:"operation",title:"\u64CD\u4F5C",dataIndex:"operation",render:function(p,m){return(0,o.jsx)(ce.Z,{type:"link",danger:!0,icon:(0,o.jsx)(zt.Z,{}),onClick:e.bind(null,m)})}}]},[l,c,e]),s=(0,u.useCallback)(function(){r([].concat(J()(n),[{key:"key_".concat(Date.now()),dataKind:"",id:(0,Rt.x0)()}]))},[n,r]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ce.Z,{type:"primary",onClick:s,className:"m-t-8",children:"\u65B0\u589E\u5B57\u6BB5"}),(0,o.jsx)(fe.Z,{columns:h,rowKey:"id",dataSource:n})]})},mi=(0,W.connect)(function(a){return{mockKindList:a.data.mockValueKindMap}},function(){return{}})(pi),Ci=function(t){var i=t.onChange,n=t.value,r=t.params,c=t.constants,l=t.componentId,e=n.request.mock,h=e||{},s=h.fields,d=h.random,p=h.total,m=(0,u.useCallback)(function(){var g=ut()(Ie()().mark(function C(S){var E;return Ie()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,Ee.ZP.requestData(l,S,r,c);case 2:E=y.sent,i==null||i((0,Be.SP)({},S,{request:{value:E}}));case 4:case"end":return y.stop()}},C)}));return function(C){return g.apply(this,arguments)}}(),[r,c]),f=(0,u.useCallback)(function(g){m((0,Be.SP)({},n,g))},[i,m,n]);return(0,o.jsxs)("div",{children:[(0,o.jsx)(ge,{children:"\u8BF7\u6C42\u5B57\u6BB5"}),(0,o.jsx)(ne,{children:(0,o.jsx)(mi,{value:s,onChange:function(C){f==null||f({request:{mock:{fields:C}}})}})}),(0,o.jsx)(ge,{children:"\u6570\u636E\u6761\u6570"}),(0,o.jsx)(ne,{children:(0,o.jsx)(Dt.Z,{value:p,onChange:function(C){f==null||f({request:{mock:{total:C}}})}})}),(0,o.jsx)(ne,{children:(0,o.jsx)(Yt,{checked:d,onChange:function(C){f==null||f({request:{mock:{random:C.target.checked}}})},children:"\u968F\u673A\u8FD4\u56DE"})})]})},xi=(0,W.connect)(hi,gi)(Ci),yi=function(t){var i=t.type,n=t.staticProps,r=t.apiProps,c=t.mockProps;return i==="mock"?(0,o.jsx)(xi,F()({},c)):i==="api"?(0,o.jsx)(di,F()({},r)):(0,o.jsx)(vi,F()({},n))},bi=yi,Ei=function(t){var i=t.value,n=i===void 0?[]:i,r=t.valueType,c=(0,u.useMemo)(function(){return r==="array"?"\u6570\u7EC4":"\u5BF9\u8C61"},[]),l=(0,u.useMemo)(function(){return[{key:"field",title:"\u5B57\u6BB5",dataIndex:"field",width:140},{key:"map",title:"\u6620\u5C04",dataIndex:"map",width:140},{key:"description",title:"\u8BF4\u660E",dataIndex:"description"}]},[]);return(0,o.jsxs)("div",{children:[(0,o.jsxs)(ge,{children:["\u6570\u636E\u54CD\u5E94\u7ED3\u679C\u5E94\u4E3A",c,"\uFF0C",c,"\u5143\u7D20\u5305\u542B\u5982\u4E0B\u5B57\u6BB5"]}),(0,o.jsx)(ne,{children:(0,o.jsx)(fe.Z,{columns:l,rowKey:"id",bordered:!0,dataSource:n})})]})},Si=Ei,Di={"design-config-data-detail":"design-config-data-detail___UvREO"},Vi=Pe.Z.Option,Zi=(0,u.forwardRef)(function(a,t){var i=a.value,n=a.onChange,r=a.id,c=i.request,l=c.type,e=c.valueType,h=i.filter,s=h.show,d=h.map,p=h.value,m=(0,Zt._q)(a.value),f=(0,u.useState)(!1),g=H()(f,2),C=g[0],S=g[1],E=(0,u.useCallback)(function(){S(!0)},[]),j=(0,u.useMemo)(function(){return(0,o.jsx)("div",{})},[]);(0,u.useImperativeHandle)(t,function(){return{open:E}},[E]);var y=(0,u.useCallback)(function(x){n==null||n({request:{type:x}})},[n]),D=(0,u.useCallback)(function(x){var b=x.target.checked;n==null||n({filter:{show:b}}),Te.FW.emit(Te.JW.COMPONENT_FILTER_CHANGE,{id:r,componentConfig:{filter:{show:b}}})},[n]),O=(0,u.useCallback)(function(x){n==null||n({filter:{value:x}})},[n]),R=(0,u.useMemo)(function(){var x=[{label:"\u9759\u6001\u6570\u636E",value:"static"}];return lt.Z.ENABLE_MOCK_DATA_CONFIG&&!lt.Z.IS_STATIC&&x.push({label:"Mock",value:"mock"}),x.push({label:"API",value:"api"}),x},[]);return(0,o.jsx)(En.Z,{open:C,placement:"right",onClose:S.bind(null,!1),title:"\u8BBE\u7F6E\u6570\u636E\u6E90",width:500,bodyStyle:{paddingTop:0},destroyOnClose:!0,children:(0,o.jsxs)(Sn.Z,{className:Di["design-config-data-detail"],force:C,children:[(0,o.jsx)(ct,{children:"\u6570\u636E\u6E90"}),(0,o.jsx)(ge,{children:"\u6570\u636E\u6E90\u7C7B\u578B"}),(0,o.jsx)(ne,{children:(0,o.jsx)(Pe.Z,{className:"w-100",value:l,defaultValue:"static",onChange:y,options:R})}),(0,o.jsx)(bi,{type:l,staticProps:{value:m,onChange:n},apiProps:{onChange:n,value:a.value,componentId:r},mockProps:{onChange:n,value:a.value,componentId:r}}),(0,o.jsx)(ct,{visible:!!s,children:(0,o.jsx)(ke.Z,{checked:s,onChange:D,children:"\u6570\u636E\u8FC7\u6EE4\u5668"})}),(0,o.jsx)(ei,{value:p,onChange:O,disabled:!s,id:r}),(0,o.jsx)(Si,{value:d,valueType:e}),(0,o.jsx)(Vn,{value:a.value,onChange:n,componentId:r}),(0,o.jsx)(Tt,{width:454,height:238,value:a.value})]})})}),ji=Zi,ae={"design-config-response-data-step":"design-config-response-data-step___bWold","design-config-response-data-step-item":"design-config-response-data-step-item___pjDFc","design-config-response-data-step-item-title-type-txt":"design-config-response-data-step-item-title-type-txt___QceV1","design-config-response-data-code-editor-view":"design-config-response-data-code-editor-view___AJ_NR","design-config-response-data":"design-config-response-data___NfjM6"},Hi=St.Step,Ni=function(t){var i=t.value,n=t.onChange,r=i.id,c=(0,u.useRef)(null),l=(0,u.useMemo)(function(){var g=(0,Me.get)(i,"config.data.request.type");return g==="api"?"\u63A5\u53E3\u6570\u636E":g==="mock"?"Mock\u6570\u636E":"\u9759\u6001\u6570\u636E"},[i]),e=(0,u.useMemo)(function(){return(0,Me.get)(i,"config.data.request.frequency")},[i]),h=(0,u.useMemo)(function(){return(0,Me.get)(i,"config.data.filter.show")},[i]),s=(0,u.useMemo)(function(){return i.config.data},[i]),d=(0,u.useCallback)(function(g){n==null||n({config:{data:g}})},[n]),p=(0,u.useCallback)(function(g){n==null||n({config:{data:{request:{frequency:g}}}})},[n]),m=(0,u.useCallback)(function(g){var C=g.target.checked;n==null||n({config:{data:{filter:{show:C}}}}),Te.FW.emit(Te.JW.COMPONENT_FILTER_CHANGE,{id:r,componentConfig:{filter:{show:C}}})},[n]),f=(0,u.useCallback)(function(){var g;(g=c.current)===null||g===void 0||g.open()},[]);return(0,o.jsxs)("div",{className:ae["design-config-response-data"],children:[(0,o.jsx)(mn,{value:e,onChange:p}),(0,o.jsx)("div",{className:ae["design-config-response-data-step"],children:(0,o.jsx)(St,{progressDot:!0,current:2,direction:"vertical",items:[{title:(0,o.jsxs)("div",{className:k()(ae["design-config-response-data-step-item"],"dis-flex"),children:[(0,o.jsx)("div",{className:ae["design-config-response-data-step-item-title"],children:(0,o.jsx)("span",{className:ae["design-config-response-data-step-item-title-type-txt"],children:l})}),(0,o.jsx)(Nt.Z,{onClick:f,children:"\u914D\u7F6E\u6570\u636E\u6E90"})]})},{title:(0,o.jsxs)("div",{className:k()(ae["design-config-response-data-step-item"],"dis-flex"),children:[(0,o.jsx)("div",{className:ae["design-config-response-data-step-item-title"],children:(0,o.jsx)(ke.Z,{checked:h,onChange:m,children:"\u6570\u636E\u8FC7\u6EE4\u5668"})}),(0,o.jsx)(Nt.Z,{onClick:f,children:"\u6DFB\u52A0\u8FC7\u6EE4\u5668"})]}),status:h?"finish":"wait"},{title:(0,o.jsx)("div",{className:k()(ae["design-config-response-data-step-item"],"dis-flex"),children:(0,o.jsx)("div",{className:ae["design-config-response-data-step-item-title"],children:(0,o.jsxs)("span",{children:["\u6570\u636E\u54CD\u5E94\u7ED3\u679C","\uFF08 \u53EA\u8BFB \uFF09"]})})})}]})}),(0,o.jsx)("div",{className:ae["design-config-response-data-code-editor-view"],children:(0,o.jsx)(Tt,{value:i.config.data})}),(0,o.jsx)(ji,{ref:c,value:s,onChange:d,id:r})]})},Ti=Ni,Pi=function(t){return{}},Ii=function(t){return{}},Fe={"design-config-data-empty":"design-config-data-empty___OBi1I","design-config-data":"design-config-data___lVzLI","design-config-data-title":"design-config-data-title___QjGWR","design-config-data-title-sub":"design-config-data-title-sub___FvDMw"},Oi=function(t){var i,n,r,c,l=t.id,e=t.component,h=!!((i=e.config.data)!==null&&i!==void 0&&i.disabled),s=((n=e.config)===null||n===void 0||(r=n.data)===null||r===void 0||(c=r.filter)===null||c===void 0?void 0:c.map)||[],d=(0,u.useCallback)(function(p){_.ZP.setComponent({value:p,id:l,path:(0,re.DW)(l),action:"update"})},[l]);return h?(0,o.jsxs)("div",{className:k()(Fe["design-config-data"],Fe["design-config-data-empty"],"design-config-format-font-size"),children:[(0,o.jsx)(X.Z,{style:{marginRight:4}}),"\u8BE5\u7EC4\u4EF6\u65E0\u6570\u636E\u914D\u7F6E"]}):(0,o.jsxs)("div",{className:k()(Fe["design-config-data"],"design-config-format-font-size"),children:[(0,o.jsx)("div",{className:k()(Fe["design-config-data-title"],"border-1"),children:(0,o.jsx)("span",{className:k()("text-ellipsis-2"),children:"\u6570\u636E\u63A5\u53E3"})}),(0,o.jsx)(ze,{value:s,onChange:function(m){return d({config:{data:{filter:{map:m}}}})}}),(0,o.jsx)("div",{className:k()(Fe["design-config-data-title"],"border-1"),children:(0,o.jsx)("span",{className:k()("text-ellipsis-2",Fe["design-config-data-title-sub"]),children:"\u6570\u636E\u54CD\u5E94\u7ED3\u679C"})}),(0,o.jsx)(Ti,{value:e,onChange:d})]})},wi=(0,W.connect)(Pi,Ii)(Oi)},22270:function(Ve,q,v){v.d(q,{f:function(){return je}});var re=v(97857),_=v.n(re),X=v(5574),ee=v.n(X),k=v(13769),u=v.n(k),W=v(67294),de=v(69677),F=v(45210),xe=v(88192),J=v(95619),Re=v(85893),H=["triggerOnChangeInOnChange","validator"],ye=function(fe){var o=fe.triggerOnChangeInOnChange,He=o===void 0?!1:o,Ue=fe.validator,ze=Ue===void 0?[]:Ue,M=u()(fe,H),Z=M.value,it=M.defaultValue,Q=M.onChange,oe=M.onBlur,be=M.onFocus,se=(0,W.useState)(Z!=null?Z:it),te=ee()(se,2),I=te[0],ve=te[1],Ne=(0,W.useRef)(!!fe.autoFocus),Ge=(0,W.useCallback)(function(he){var le=he.target.value;ve(le),He&&(Q==null||Q(le))},[Q,He]),Ye=(0,xe.r3)(Ge),Qe=Ye.validator,rt=(0,W.useCallback)(function(he){var le=Qe(Z,"",ze);le!==I&&(Q==null||Q(I)),oe==null||oe(he),Ne.current=!1},[oe,Q,I,Z,ze]),Ae=(0,W.useCallback)(function(he){be==null||be(he),Ne.current=!0},[be]);return(0,W.useEffect)(function(){Z!==void 0&&ve(Z)},[Z]),(0,F.Z)(function(){Z!=I&&Ne.current&&(Q==null||Q(I))}),(0,Re.jsx)(de.Z,_()(_()({},M),{},{onFocus:Ae,onChange:Ge,onBlur:rt,value:I}))},je=(0,J.Z)(ye);q.Z=ye},27808:function(Ve,q,v){v.d(q,{Z:function(){return Re}});var re=v(97857),_=v.n(re),X=v(13769),ee=v.n(X),k=v(19671),u=v(94184),W=v.n(u),de={"design-config-map-table":"design-config-map-table____Z_Bw"},F=v(85893),xe=["className"];function J(H){var ye=H.className,je=ee()(H,xe);return(0,F.jsx)(k.Z,_()({pagination:!1,className:W()(ye,de["design-config-map-table"]),bordered:!1},je))}var Re=J},21709:function(Ve,q,v){var re=v(67294),_=v(88192),X=v(76345),ee=v(85893),k=function(W){var de=W.functionName,F=(0,_.v8)();return(0,ee.jsxs)("p",{children:["function"," ",(0,ee.jsx)(X.Z,{title:'\u5168\u5C40\u5C5E\u6027\u90FD\u4F1A\u88AB\u653E\u5728\u7B2C\u4E8C\u53C2\u6570 "global" \u4E2D\uFF0C\u5BF9\u4E8E\u5728\u4E0A\u9762\u88AB\u9009\u62E9\u7684\u5C5E\u6027\uFF0C\u4F1A\u54CD\u5E94\u5F0F\u7684\u66F4\u65B0\u6B64\u51FD\u6570\uFF0C\u5982\u679C\u4E0D\u5E0C\u671B\u54CD\u5E94\u5F0F\uFF0C\u53EF\u4E0D\u5728\u4E0A\u9762\u9009\u62E9\uFF0C\u76F4\u63A5\u5728\u51FD\u6570\u4E2D\u4F7F\u7528',children:(0,ee.jsx)("span",{className:"c-po",style:{color:F},children:de})}),"( data, global, options ) ","{"]})};q.Z=k}}]);
