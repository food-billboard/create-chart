(self.webpackChunkcreate_chart=self.webpackChunkcreate_chart||[]).push([[7824],{92618:function(_e,k,r){"use strict";r.d(k,{O:function(){return g},Z:function(){return R}});var j=r(71461),y=r(94184),H=r.n(y),A={"design-config-default-tab":"design-config-default-tab___S7Hbn","design-config-default-tab-title":"design-config-default-tab-title___4tu3F"},W=r(85893),ee=j.Z.TabPane,V=function(w){var E=w.items,B=E===void 0?[]:E;return(0,W.jsx)(j.Z,{tabPosition:"left",defaultActiveKey:"0",className:A["design-config-default-tab"],items:B})},g=function(w){var E=w.icon,B=w.children;return(0,W.jsxs)("div",{className:H()(A["design-config-default-tab-title"],"dis-flex-column"),children:[E,(0,W.jsx)("div",{children:B})]})},R=V},52241:function(_e,k,r){"use strict";r.d(k,{Z:function(){return v}});var j=r(15009),y=r.n(j),H=r(99289),A=r.n(H),W=r(90700),ee=r(77598),V=r(96486),g=r(67294),R=r(34104),N=function(T){return{params:T.global.screenData.config.attr.params,filter:T.global.screenData.config.attr.filter,constants:T.global.screenData.config.attr.constants,screenType:T.global.screenType}},w=function(T){return{}},E=r(85893),B=function(T){var se=T.params,L=T.filter,x=T.constants,h=T.componentFilter,P=T.componentParams,D=P===void 0?[]:P,O=T.componentCondition,C=O===void 0?{value:[],initialState:"visible"}:O,z=T.url,I=T.reParams,Y=I===void 0?V.noop:I,_=T.reFetchData,M=T.reGetValue,F=T.reCondition,J=F===void 0?V.noop:F,q=T.id,K=C.value,m=K===void 0?[]:K,G=C.initialState,oe=(0,g.useRef)(new W.MI({url:z,id:q,componentFilter:h,componentCondition:m,componentConstants:x,componentParams:D,onParams:Y,onFetch:function(){var Z=A()(y()().mark(function Ee(){return y()().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.abrupt("return",_());case 1:case"end":return ne.stop()}},Ee)}));function te(){return Z.apply(this,arguments)}return te}(),onFilter:function(){var Z=A()(y()().mark(function Ee(){return y()().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.abrupt("return",M());case 1:case"end":return ne.stop()}},Ee)}));function te(){return Z.apply(this,arguments)}return te}(),onCondition:function(te){return J(te,G)},onHashChange:function(){var te;(te=oe.current)===null||te===void 0||te.compare(se)}},L,se));return(0,ee.Z)(function(){var Z;(Z=oe.current)===null||Z===void 0||Z.compare(se)},[se]),(0,g.useEffect)(function(){m.forEach(function(Z){J(Z,G)})},[m,J,G]),(0,g.useEffect)(function(){_().then(M)},[]),(0,E.jsx)(E.Fragment,{})},v=(0,R.connect)(N,w)(B)},95619:function(_e,k,r){"use strict";var j=r(97857),y=r.n(j),H=r(15009),A=r.n(H),W=r(99289),ee=r.n(W),V=r(5574),g=r.n(V),R=r(13769),N=r.n(R),w=r(67294),E=r(85402),B=r(71577),v=r(94184),ce=r.n(v),T=r(88192),se=r(19515),L=r(85893),x=["onClick","modalProps"];function h(P){return function(D){var O=D.onClick,C=D.modalProps,z=N()(D,x),I=(0,T.q2)(!1),Y=g()(I,2),_=Y[0],M=Y[1],F=(0,w.useCallback)(ee()(A()().mark(function q(){return A()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,(0,se._v)(100);case 2:M(!1);case 3:case"end":return m.stop()}},q)})),[]),J=(0,w.useCallback)(function(){M(!0);for(var q=arguments.length,K=new Array(q),m=0;m<q;m++)K[m]=arguments[m];O==null||O.apply(void 0,K)},[O]);return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(P,y()(y()({},z),{},{onClick:J})),(0,L.jsx)(E.Z,y()(y()({open:_,title:"\u7F16\u8F91",onCancel:F,footer:(0,L.jsx)(B.Z,{onClick:F,children:"\u5173\u95ED"}),width:420,destroyOnClose:!0},C),{},{wrapClassName:ce()(C==null?void 0:C.wrapClassName,"design-config-format-font-size"),children:(0,L.jsx)(P,y()({},z))}))]})}}k.Z=h},66960:function(_e,k,r){"use strict";var j=r(97857),y=r.n(j),H=r(5574),A=r.n(H),W=r(13769),ee=r.n(W),V=r(67294),g=r(79915),R=r(94184),N=r.n(R),w=r(45210),E=r(88192),B=r(95619),v=r(85893),ce=["triggerOnChangeInOnChange","validator"],T=function(x){var h,P=x.triggerOnChangeInOnChange,D=P===void 0?!1:P,O=x.validator,C=O===void 0?[]:O,z=ee()(x,ce),I=z.value,Y=z.defaultValue,_=z.onChange,M=z.onBlur,F=z.className,J=z.onFocus,q=(0,V.useState)((h=I!=null?I:Y)!==null&&h!==void 0?h:0),K=A()(q,2),m=K[0],G=K[1],oe=(0,V.useRef)(!!x.autoFocus),Z=(0,V.useCallback)(function(Ce){G(Ce),D&&(_==null||_(Ce))},[_,D]),te=(0,E.r3)(Z),Ee=te.validator,le=(0,V.useCallback)(function(Ce){var Me=Ee(I,"",C);Me!==m&&(_==null||_(m)),M==null||M(Ce),oe.current=!1},[M,_,m,I,C]),ne=(0,V.useCallback)(function(Ce){J==null||J(Ce),oe.current=!0},[J]);return(0,V.useEffect)(function(){I!==void 0&&G(I)},[I]),(0,w.Z)(function(){I!==m&&oe.current&&(_==null||_(m))}),(0,v.jsx)(g.Z,y()(y()({},z),{},{className:N()("w-100",F),onChange:Z,onBlur:le,value:m,onFocus:ne}))},se=(0,B.Z)(T);k.Z=T},52445:function(_e,k,r){"use strict";r.d(k,{Z:function(){return se}});var j=r(9783),y=r.n(j),H=r(67294),A=r(94184),W=r.n(A),ee=r(44960),V=r(30616),g={"design-config-form-item-container":"design-config-form-item-container___ZdY5S"},R=r(85893),N=function(x){var h=x.children;return(0,R.jsx)("div",{className:g["design-config-form-item-container"],children:h})},w=N,E={"design-config":"design-config___a968s","design-config-field":"design-config-field___NhTKj","design-config-field-title-level1":"design-config-field-title-level1___vDBez","design-config-field-title-level2":"design-config-field-title-level2___DoOiG","design-config-field-title-level3":"design-config-field-title-level3___wLjb6","design-config-field-title-level4":"design-config-field-title-level4___gkTyO","design-config-field-title":"design-config-field-title___gp26d","design-config-field-container":"design-config-field-container___B94rW","design-config-field-disabled":"design-config-field-disabled___f0GA1","design-config-level-1":"design-config-level-1___Sp1EZ"},B=function(x){var h=x.children,P=x.level,D=P===void 0?0:P,O=x.className,C=x.style;return(0,R.jsx)("div",{className:W()(E["design-config"],E["design-config-level-".concat(D)],O),style:C,children:h})},v=function(x){var h=x.children;return(0,R.jsx)("div",{className:E["design-config-field-container"],children:(0,R.jsx)(w,{children:h})})},ce=function(x){var h=x.label,P=x.labelProps,D=P===void 0?{}:P,O=D.className,C=D.style,z=D.title,I=D.level,Y=I===void 0?1:I,_=x.placeholder,M=x.children,F=x.disabled,J=x.onDisabledChange,q=(0,H.useMemo)(function(){return _!==!0?_:(0,R.jsx)(ee.Z,{checked:!F,onChange:J})},[F,_,J]);return(0,R.jsxs)("div",{className:W()(E["design-config-field"],"dis-flex","pos-re","design-config-format-font-size",y()({},E["design-config-field-disabled"],!!F)),children:[(0,R.jsx)(V.Z,{children:q}),(0,R.jsx)("div",{className:W()("text-ellipsis",E["design-config-field-title"],E["design-config-field-title-level".concat(Y)],O),style:C,title:z||(typeof h=="string"?h:""),children:h}),(0,R.jsx)(v,{children:M})]})},T=B;T.Item=ce;var se=T},57483:function(_e,k,r){"use strict";r.d(k,{Z:function(){return ee}});var j=r(94184),y=r.n(j),H={"design-config-full-form":"design-config-full-form___BCMV0","design-config-full-form-content":"design-config-full-form-content___QuG6P","design-config-full-form-label":"design-config-full-form-label___YnpNw"},A=r(85893),W=function(g){var R=g.children,N=g.label,w=g.style,E=g.className;return(0,A.jsxs)("div",{className:y()(H["design-config-full-form"],E),style:w,children:[(0,A.jsx)("div",{className:H["design-config-full-form-content"],children:R}),N&&(0,A.jsx)("div",{className:y()(H["design-config-full-form-label"],"text-ellipsis"),children:N})]})},ee=W},24058:function(_e,k,r){"use strict";r.d(k,{Z:function(){return ee}});var j=r(94184),y=r.n(j),H={"design-config-half-form":"design-config-half-form___XjE5Q","design-config-half-form-content":"design-config-half-form-content___astdG","design-config-half-form-label":"design-config-half-form-label___xal34"},A=r(85893),W=function(g){var R=g.children,N=g.label,w=g.style,E=g.className,B=g.prefix,v=g.suffix;return(0,A.jsxs)("div",{className:y()(H["design-config-half-form"],E),style:w,children:[(0,A.jsxs)("div",{className:H["design-config-half-form-content"],children:[B,R,v]}),N&&(0,A.jsx)("div",{className:y()(H["design-config-half-form-label"],"text-ellipsis"),children:N})]})},ee=W},30616:function(_e,k,r){"use strict";r.d(k,{Z:function(){return g}});var j=r(9783),y=r.n(j),H=r(94184),A=r.n(H),W={"design-right-placeholder":"design-right-placeholder___Z8wDQ"},ee=r(85893),V=function(N){var w=N.children,E=N.style,B=N.className;return(0,ee.jsx)("i",{className:A()(W["design-right-placeholder"],y()({},W["design-right-placeholder-show"],!!w),B),style:E,children:w})},g=V},44960:function(_e,k,r){"use strict";r.d(k,{Z:function(){return N}});var j=r(97857),y=r.n(j),H=r(67294),A=r(94594),W=r(94184),ee=r.n(W),V={"design-config-switch":"design-config-switch___nLObB"},g=r(85893),R=function(E){return(0,g.jsx)("span",{className:ee()(V["design-config-switch"]),children:(0,g.jsx)(A.Z,y()({},E))})},N=R},56691:function(_e,k,r){"use strict";r.r(k),r.d(k,{default:function(){return T}});var j=r(67294),y=r(96486),H=r(94184),A=r.n(H),W=r(11949),ee=r.n(W),V=r(44698),g=r(52241),R=r(90700),N=r(65424),w=r(85974),E={},B=r(85893),v=function(L){var x=L.className,h=L.style,P=L.value,D=L.global,O=L.children,C=L.wrapper,z=D.screenType,I=P.config,Y=I.options,_=I.style,M=_.height,F=_.border,J=P.id,q=Y.maxCount,K=Y.margin,m=Y.columnCount,G=Y.preview,oe=(0,j.useRef)((0,y.uniqueId)(w.q)),Z=(0,V.Co)({component:P,global:D}),te=Z.linkageMethod,Ee=Z.request,le=Z.getValue,ne=Z.requestUrl,Ce=Z.componentFilter,Me=Z.value,me=Me===void 0?[]:Me,xe=Z.componentFilterMap,De=(0,j.useMemo)(function(){return R.ZP.getFieldMapValue(me,{map:xe})},[me,xe]),Ze=(0,j.useMemo)(function(){return A()(x,E["component-media-carousel"])},[x]),ke=function(ye){te("click-item",{value:ye})},pe=(0,j.useMemo)(function(){var Oe=Math.ceil(q/m);return De.slice(0,q).map(function(ye,ze){return(0,B.jsx)("img",{className:A()("component-media-picture-wall-item"),src:ye,style:{marginTop:K[1],marginLeft:K[0],height:"calc( (100% - ".concat(K[1]*(Oe+1),"px) / ").concat(Oe," )"),width:"calc( ( 100% - ".concat(K[0]*(m+1),"px ) / ").concat(m," )"),borderRadius:N.dG},onClick:ke.bind(null,ye)},ze)})},[De,M,q,m,K]);return(0,j.useEffect)(function(){if(!(!G.show||z!=="preview")){var Oe=document.getElementById(oe.current);if(Oe){var ye=new(ee())(Oe,{inline:!1,viewed:function(){ye.zoomTo(1)},url:"src"});return function(){ye==null||ye.destroy()}}}},[G,z]),(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)("div",{className:Ze,style:(0,y.merge)({width:"100%",height:"100%"},h),id:oe.current,children:(0,B.jsxs)(C,{border:F,children:[O,pe]})}),(0,B.jsx)(g.Z,{id:J,url:ne,reFetchData:Ee,reGetValue:le,reCondition:function(){},componentFilter:Ce,componentCondition:{initialState:"visible",value:[]}})]})},ce=v;ce.id=w.q;var T=ce},39098:function(_e,k,r){"use strict";r.r(k);var j=r(12444),y=r.n(j),H=r(72004),A=r.n(H),W=r(25098),ee=r.n(W),V=r(31996),g=r.n(V),R=r(26037),N=r.n(R),w=r(9783),E=r.n(w),B=r(67294),v=r(94594),ce=r(92618),T=r(52445),se=r(57483),L=r(66960),x=r(24058),h=r(85893),P=T.Z.Item,D=function(O){g()(z,O);var C=N()(z);function z(){var I;y()(this,z);for(var Y=arguments.length,_=new Array(Y),M=0;M<Y;M++)_[M]=arguments[M];return I=C.call.apply(C,[this].concat(_)),E()(ee()(I),"onKeyChange",function(F,J){I.props.onChange({config:{options:E()({},F,J)}})}),I}return A()(z,[{key:"render",value:function(){var Y=this,_=this.props.value,M=_.config.options,F=M.margin,J=M.maxCount,q=M.columnCount,K=M.preview;return(0,h.jsx)(ce.Z,{items:[{label:(0,h.jsx)(ce.O,{children:"\u6837\u5F0F"}),children:(0,h.jsxs)(T.Z,{level:1,children:[(0,h.jsx)(P,{label:"\u56FE\u7247\u6570\u91CF",children:(0,h.jsx)(se.Z,{children:(0,h.jsx)(L.Z,{value:J,min:1,onChange:this.onKeyChange.bind(this,"maxCount")})})}),(0,h.jsx)(P,{label:"\u5355\u884C\u56FE\u7247\u6570",children:(0,h.jsx)(se.Z,{children:(0,h.jsx)(L.Z,{value:q,min:1,onChange:this.onKeyChange.bind(this,"columnCount")})})}),(0,h.jsxs)(P,{label:"\u95F4\u8DDD",children:[(0,h.jsx)(x.Z,{label:"\u6C34\u5E73",children:(0,h.jsx)(L.Z,{value:F[0],onChange:function(G){Y.onKeyChange("margin",[G,F[1]])}})}),(0,h.jsx)(x.Z,{label:"\u5782\u76F4",children:(0,h.jsx)(L.Z,{value:F[1],onChange:function(G){Y.onKeyChange("margin",[F[0],G])}})})]}),(0,h.jsx)(P,{label:"\u9884\u89C8",children:(0,h.jsx)(se.Z,{children:(0,h.jsx)(v.Z,{checked:K.show,onChange:function(G){Y.onKeyChange("preview",{show:G})}})})})]}),key:"1"}]})}}]),z}(B.Component);k.default=D},94594:function(_e,k,r){"use strict";r.d(k,{Z:function(){return x}});var j=r(87462),y=r(4942),H=r(50888),A=r(94184),W=r.n(A),ee=r(97685),V=r(45987),g=r(67294),R=r(21770),N=r(15105),w=g.forwardRef(function(h,P){var D,O=h.prefixCls,C=O===void 0?"rc-switch":O,z=h.className,I=h.checked,Y=h.defaultChecked,_=h.disabled,M=h.loadingIcon,F=h.checkedChildren,J=h.unCheckedChildren,q=h.onClick,K=h.onChange,m=h.onKeyDown,G=(0,V.Z)(h,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),oe=(0,R.Z)(!1,{value:I,defaultValue:Y}),Z=(0,ee.Z)(oe,2),te=Z[0],Ee=Z[1];function le(me,xe){var De=te;return _||(De=me,Ee(De),K==null||K(De,xe)),De}function ne(me){me.which===N.Z.LEFT?le(!1,me):me.which===N.Z.RIGHT&&le(!0,me),m==null||m(me)}function Ce(me){var xe=le(!te,me);q==null||q(xe,me)}var Me=W()(C,z,(D={},(0,y.Z)(D,"".concat(C,"-checked"),te),(0,y.Z)(D,"".concat(C,"-disabled"),_),D));return g.createElement("button",Object.assign({},G,{type:"button",role:"switch","aria-checked":te,disabled:_,className:Me,ref:P,onKeyDown:ne,onClick:Ce}),M,g.createElement("span",{className:"".concat(C,"-inner")},te?F:J))});w.displayName="Switch";var E=w,B=r(53124),v=r(98866),ce=r(97647),T=r(68349),se=function(h,P){var D={};for(var O in h)Object.prototype.hasOwnProperty.call(h,O)&&P.indexOf(O)<0&&(D[O]=h[O]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var C=0,O=Object.getOwnPropertySymbols(h);C<O.length;C++)P.indexOf(O[C])<0&&Object.prototype.propertyIsEnumerable.call(h,O[C])&&(D[O[C]]=h[O[C]]);return D},L=g.forwardRef(function(h,P){var D,O=h.prefixCls,C=h.size,z=h.disabled,I=h.loading,Y=h.className,_=Y===void 0?"":Y,M=se(h,["prefixCls","size","disabled","loading","className"]),F=g.useContext(B.E_),J=F.getPrefixCls,q=F.direction,K=g.useContext(ce.Z),m=g.useContext(v.Z),G=(z!=null?z:m)||I,oe=J("switch",O),Z=g.createElement("div",{className:"".concat(oe,"-handle")},I&&g.createElement(H.Z,{className:"".concat(oe,"-loading-icon")})),te=W()((D={},(0,y.Z)(D,"".concat(oe,"-small"),(C||K)==="small"),(0,y.Z)(D,"".concat(oe,"-loading"),I),(0,y.Z)(D,"".concat(oe,"-rtl"),q==="rtl"),D),_);return g.createElement(T.Z,{insertExtraNode:!0},g.createElement(E,(0,j.Z)({},M,{prefixCls:oe,className:te,disabled:G,ref:P,loadingIcon:Z})))});L.__ANT_SWITCH=!0;var x=L},11949:function(_e){(function(k,r){_e.exports=r()})(this,function(){"use strict";function k(n,e){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),i.push.apply(i,t)}return i}function r(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?k(Object(i),!0).forEach(function(t){W(n,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):k(Object(i)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(i,t))})}return n}function j(n){"@babel/helpers - typeof";return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(n)}function y(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function H(n,e){for(var i=0;i<e.length;i++){var t=e[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,V(t.key),t)}}function A(n,e,i){return e&&H(n.prototype,e),i&&H(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n}function W(n,e,i){return e=V(e),e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}function ee(n,e){if(typeof n!="object"||n===null)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var t=i.call(n,e||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function V(n){var e=ee(n,"string");return typeof e=="symbol"?e:String(e)}var g={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialCoverage:.9,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},R='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',N=typeof window!="undefined"&&typeof window.document!="undefined",w=N?window:{},E=N&&w.document.documentElement?"ontouchstart"in w.document.documentElement:!1,B=N?"PointerEvent"in w:!1,v="viewer",ce="move",T="switch",se="zoom",L="".concat(v,"-active"),x="".concat(v,"-close"),h="".concat(v,"-fade"),P="".concat(v,"-fixed"),D="".concat(v,"-fullscreen"),O="".concat(v,"-fullscreen-exit"),C="".concat(v,"-hide"),z="".concat(v,"-hide-md-down"),I="".concat(v,"-hide-sm-down"),Y="".concat(v,"-hide-xs-down"),_="".concat(v,"-in"),M="".concat(v,"-invisible"),F="".concat(v,"-loading"),J="".concat(v,"-move"),q="".concat(v,"-open"),K="".concat(v,"-show"),m="".concat(v,"-transition"),G="click",oe="dblclick",Z="dragstart",te="focusin",Ee="keydown",le="load",ne="error",Ce=E?"touchend touchcancel":"mouseup",Me=E?"touchmove":"mousemove",me=E?"touchstart":"mousedown",xe=B?"pointerdown":me,De=B?"pointermove":Me,Ze=B?"pointerup pointercancel":Ce,ke="resize",pe="transitionend",Oe="wheel",ye="ready",ze="show",tt="shown",it="hide",nt="hidden",at="view",Ue="viewed",rt="move",st="moved",ot="rotate",lt="rotated",ut="scale",ct="scaled",ht="zoom",dt="zoomed",ft="play",mt="stop",He="".concat(v,"Action"),Qe=/\s\s*/,Ye=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function Ve(n){return typeof n=="string"}var pt=Number.isNaN||w.isNaN;function ae(n){return typeof n=="number"&&!pt(n)}function Ne(n){return typeof n=="undefined"}function Le(n){return j(n)==="object"&&n!==null}var bt=Object.prototype.hasOwnProperty;function je(n){if(!Le(n))return!1;try{var e=n.constructor,i=e.prototype;return e&&i&&bt.call(i,"isPrototypeOf")}catch(t){return!1}}function X(n){return typeof n=="function"}function Q(n,e){if(n&&X(e))if(Array.isArray(n)||ae(n.length)){var i=n.length,t;for(t=0;t<i&&e.call(n,n[t],t,n)!==!1;t+=1);}else Le(n)&&Object.keys(n).forEach(function(a){e.call(n,n[a],a,n)});return n}var be=Object.assign||function(e){for(var i=arguments.length,t=new Array(i>1?i-1:0),a=1;a<i;a++)t[a-1]=arguments[a];return Le(e)&&t.length>0&&t.forEach(function(s){Le(s)&&Object.keys(s).forEach(function(o){e[o]=s[o]})}),e},Et=/^(?:width|height|left|top|marginLeft|marginTop)$/;function we(n,e){var i=n.style;Q(e,function(t,a){Et.test(a)&&ae(t)&&(t+="px"),i[a]=t})}function Ct(n){return Ve(n)?n.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):n}function Re(n,e){return!n||!e?!1:n.classList?n.classList.contains(e):n.className.indexOf(e)>-1}function p(n,e){if(!(!n||!e)){if(ae(n.length)){Q(n,function(t){p(t,e)});return}if(n.classList){n.classList.add(e);return}var i=n.className.trim();i?i.indexOf(e)<0&&(n.className="".concat(i," ").concat(e)):n.className=e}}function U(n,e){if(!(!n||!e)){if(ae(n.length)){Q(n,function(i){U(i,e)});return}if(n.classList){n.classList.remove(e);return}n.className.indexOf(e)>=0&&(n.className=n.className.replace(e,""))}}function Be(n,e,i){if(e){if(ae(n.length)){Q(n,function(t){Be(t,e,i)});return}i?p(n,e):U(n,e)}}var yt=/([a-z\d])([A-Z])/g;function Je(n){return n.replace(yt,"$1-$2").toLowerCase()}function Fe(n,e){return Le(n[e])?n[e]:n.dataset?n.dataset[e]:n.getAttribute("data-".concat(Je(e)))}function qe(n,e,i){Le(i)?n[e]=i:n.dataset?n.dataset[e]=i:n.setAttribute("data-".concat(Je(e)),i)}var vt=function(){var n=!1;if(N){var e=!1,i=function(){},t=Object.defineProperty({},"once",{get:function(){return n=!0,e},set:function(s){e=s}});w.addEventListener("test",i,t),w.removeEventListener("test",i,t)}return n}();function $(n,e,i){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=i;e.trim().split(Qe).forEach(function(s){if(!vt){var o=n.listeners;o&&o[s]&&o[s][i]&&(a=o[s][i],delete o[s][i],Object.keys(o[s]).length===0&&delete o[s],Object.keys(o).length===0&&delete n.listeners)}n.removeEventListener(s,a,t)})}function b(n,e,i){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=i;e.trim().split(Qe).forEach(function(s){if(t.once&&!vt){var o=n.listeners,u=o===void 0?{}:o;a=function(){delete u[s][i],n.removeEventListener(s,a,t);for(var c=arguments.length,l=new Array(c),f=0;f<c;f++)l[f]=arguments[f];i.apply(n,l)},u[s]||(u[s]={}),u[s][i]&&n.removeEventListener(s,u[s][i],t),u[s][i]=a,n.listeners=u}n.addEventListener(s,a,t)})}function he(n,e,i,t){var a;return X(Event)&&X(CustomEvent)?a=new CustomEvent(e,r({bubbles:!0,cancelable:!0,detail:i},t)):(a=document.createEvent("CustomEvent"),a.initCustomEvent(e,!0,!0,i)),n.dispatchEvent(a)}function wt(n){var e=n.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}function Xe(n){var e=n.rotate,i=n.scaleX,t=n.scaleY,a=n.translateX,s=n.translateY,o=[];ae(a)&&a!==0&&o.push("translateX(".concat(a,"px)")),ae(s)&&s!==0&&o.push("translateY(".concat(s,"px)")),ae(e)&&e!==0&&o.push("rotate(".concat(e,"deg)")),ae(i)&&i!==1&&o.push("scaleX(".concat(i,")")),ae(t)&&t!==1&&o.push("scaleY(".concat(t,")"));var u=o.length?o.join(" "):"none";return{WebkitTransform:u,msTransform:u,transform:u}}function Dt(n){return Ve(n)?decodeURIComponent(n.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var et=w.navigator&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(w.navigator.userAgent);function gt(n,e,i){var t=document.createElement("img");if(n.naturalWidth&&!et)return i(n.naturalWidth,n.naturalHeight),t;var a=document.body||document.documentElement;return t.onload=function(){i(t.width,t.height),et||a.removeChild(t)},Q(e.inheritedAttributes,function(s){var o=n.getAttribute(s);o!==null&&t.setAttribute(s,o)}),t.src=n.src,et||(t.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",a.appendChild(t)),t}function $e(n){switch(n){case 2:return Y;case 3:return I;case 4:return z;default:return""}}function Ot(n){var e=r({},n),i=[];return Q(n,function(t,a){delete e[a],Q(e,function(s){var o=Math.abs(t.startX-s.startX),u=Math.abs(t.startY-s.startY),d=Math.abs(t.endX-s.endX),c=Math.abs(t.endY-s.endY),l=Math.sqrt(o*o+u*u),f=Math.sqrt(d*d+c*c),S=(f-l)/l;i.push(S)})}),i.sort(function(t,a){return Math.abs(t)<Math.abs(a)}),i[0]}function Ge(n,e){var i=n.pageX,t=n.pageY,a={endX:i,endY:t};return e?a:r({timeStamp:Date.now(),startX:i,startY:t},a)}function Tt(n){var e=0,i=0,t=0;return Q(n,function(a){var s=a.startX,o=a.startY;e+=s,i+=o,t+=1}),e/=t,i/=t,{pageX:e,pageY:i}}var xt={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var e=this.element.ownerDocument,i=e.body||e.documentElement;this.body=i,this.scrollbarWidth=window.innerWidth-e.documentElement.clientWidth,this.initialBodyPaddingRight=i.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(i).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var e=this.options,i=this.parent,t;e.inline&&(t={width:Math.max(i.offsetWidth,e.minWidth),height:Math.max(i.offsetHeight,e.minHeight)},this.parentData=t),(this.fulled||!t)&&(t=this.containerData),this.viewerData=be({},t)},renderViewer:function(){this.options.inline&&!this.fulled&&we(this.viewer,this.viewerData)},initList:function(){var e=this,i=this.element,t=this.options,a=this.list,s=[];a.innerHTML="",Q(this.images,function(o,u){var d=o.src,c=o.alt||Dt(d),l=e.getImageURL(o);if(d||l){var f=document.createElement("li"),S=document.createElement("img");Q(t.inheritedAttributes,function(de){var ue=o.getAttribute(de);ue!==null&&S.setAttribute(de,ue)}),t.navbar&&(S.src=d||l),S.alt=c,S.setAttribute("data-original-url",l||d),f.setAttribute("data-index",u),f.setAttribute("data-viewer-action","view"),f.setAttribute("role","button"),t.keyboard&&f.setAttribute("tabindex",0),f.appendChild(S),a.appendChild(f),s.push(f)}}),this.items=s,Q(s,function(o){var u=o.firstElementChild,d,c;qe(u,"filled",!0),t.loading&&p(o,F),b(u,le,d=function(f){$(u,ne,c),t.loading&&U(o,F),e.loadImage(f)},{once:!0}),b(u,ne,c=function(){$(u,le,d),t.loading&&U(o,F)},{once:!0})}),t.transition&&b(i,Ue,function(){p(a,m)},{once:!0})},renderList:function(){var e=this.index,i=this.items[e];if(i){var t=i.nextElementSibling,a=parseInt(window.getComputedStyle(t||i).marginLeft,10),s=i.offsetWidth,o=s+a;we(this.list,be({width:o*this.length-a},Xe({translateX:(this.viewerData.width-s)/2-o*e})))}},resetList:function(){var e=this.list;e.innerHTML="",U(e,m),we(e,Xe({translateX:0}))},initImage:function(e){var i=this,t=this.options,a=this.image,s=this.viewerData,o=this.footer.offsetHeight,u=s.width,d=Math.max(s.height-o,o),c=this.imageData||{},l;this.imageInitializing={abort:function(){l.onload=null}},l=gt(a,t,function(f,S){var de=f/S,ue=Math.max(0,Math.min(1,t.initialCoverage)),re=u,fe=d;i.imageInitializing=!1,d*de>u?fe=u/de:re=d*de,ue=ae(ue)?ue:.9,re=Math.min(re*ue,f),fe=Math.min(fe*ue,S);var ve=(u-re)/2,ge=(d-fe)/2,ie={left:ve,top:ge,x:ve,y:ge,width:re,height:fe,oldRatio:1,ratio:re/f,aspectRatio:de,naturalWidth:f,naturalHeight:S},Pe=be({},ie);t.rotatable&&(ie.rotate=c.rotate||0,Pe.rotate=0),t.scalable&&(ie.scaleX=c.scaleX||1,ie.scaleY=c.scaleY||1,Pe.scaleX=1,Pe.scaleY=1),i.imageData=ie,i.initialImageData=Pe,e&&e()})},renderImage:function(e){var i=this,t=this.image,a=this.imageData;if(we(t,be({width:a.width,height:a.height,marginLeft:a.x,marginTop:a.y},Xe(a))),e)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&Re(t,m)){var s=function(){i.imageRendering=!1,e()};this.imageRendering={abort:function(){$(t,pe,s)}},b(t,pe,s,{once:!0})}else e()},resetImage:function(){if(this.viewing||this.viewed){var e=this.image;this.viewing&&this.viewing.abort(),e.parentNode.removeChild(e),this.image=null}}},Pt={bind:function(){var e=this.options,i=this.viewer,t=this.canvas,a=this.element.ownerDocument;b(i,G,this.onClick=this.click.bind(this)),b(i,Z,this.onDragStart=this.dragstart.bind(this)),b(t,xe,this.onPointerDown=this.pointerdown.bind(this)),b(a,De,this.onPointerMove=this.pointermove.bind(this)),b(a,Ze,this.onPointerUp=this.pointerup.bind(this)),b(a,Ee,this.onKeyDown=this.keydown.bind(this)),b(window,ke,this.onResize=this.resize.bind(this)),e.zoomable&&e.zoomOnWheel&&b(i,Oe,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleOnDblclick&&b(t,oe,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var e=this.options,i=this.viewer,t=this.canvas,a=this.element.ownerDocument;$(i,G,this.onClick),$(i,Z,this.onDragStart),$(t,xe,this.onPointerDown),$(a,De,this.onPointerMove),$(a,Ze,this.onPointerUp),$(a,Ee,this.onKeyDown),$(window,ke,this.onResize),e.zoomable&&e.zoomOnWheel&&$(i,Oe,this.onWheel,{passive:!1,capture:!0}),e.toggleOnDblclick&&$(t,oe,this.onDblclick)}},It={click:function(e){var i=this.options,t=this.imageData,a=e.target,s=Fe(a,He);switch(!s&&a.localName==="img"&&a.parentElement.localName==="li"&&(a=a.parentElement,s=Fe(a,He)),E&&e.isTrusted&&a===this.canvas&&clearTimeout(this.clickCanvasTimeout),s){case"mix":this.played?this.stop():i.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.pointerMoved||this.hide();break;case"view":this.view(Fe(a,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(i.loop);break;case"play":this.play(i.fullscreen);break;case"next":this.next(i.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-t.scaleX||-1);break;case"flip-vertical":this.scaleY(-t.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(e){e.preventDefault(),this.viewed&&e.target===this.image&&(E&&e.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(e.isTrusted?e:e.detail&&e.detail.originalEvent))},load:function(){var e=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var i=this.element,t=this.options,a=this.image,s=this.index,o=this.viewerData;U(a,M),t.loading&&U(this.canvas,F),a.style.cssText="height:0;"+"margin-left:".concat(o.width/2,"px;")+"margin-top:".concat(o.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){Be(a,J,t.movable),Be(a,m,t.transition),e.renderImage(function(){e.viewed=!0,e.viewing=!1,X(t.viewed)&&b(i,Ue,t.viewed,{once:!0}),he(i,Ue,{originalImage:e.images[s],index:s,image:a},{cancelable:!1})})})},loadImage:function(e){var i=e.target,t=i.parentNode,a=t.offsetWidth||30,s=t.offsetHeight||50,o=!!Fe(i,"filled");gt(i,this.options,function(u,d){var c=u/d,l=a,f=s;s*c>a?o?l=s*c:f=a/c:o?f=a/c:l=s*c,we(i,be({width:l,height:f},Xe({translateX:(a-l)/2,translateY:(s-f)/2})))})},keydown:function(e){var i=this.options;if(i.keyboard){var t=e.keyCode||e.which||e.charCode;switch(t){case 13:this.viewer.contains(e.target)&&this.click(e);break}if(this.fulled)switch(t){case 27:this.played?this.stop():i.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.played&&this.playing?this.playing.prev():this.prev(i.loop);break;case 38:e.preventDefault(),this.zoom(i.zoomRatio,!0);break;case 39:this.played&&this.playing?this.playing.next():this.next(i.loop);break;case 40:e.preventDefault(),this.zoom(-i.zoomRatio,!0);break;case 48:case 49:e.ctrlKey&&(e.preventDefault(),this.toggle());break}}},dragstart:function(e){e.target.localName==="img"&&e.preventDefault()},pointerdown:function(e){var i=this.options,t=this.pointers,a=e.buttons,s=e.button;if(this.pointerMoved=!1,!(!this.viewed||this.showing||this.viewing||this.hiding||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(ae(a)&&a!==1||ae(s)&&s!==0||e.ctrlKey))){e.preventDefault(),e.changedTouches?Q(e.changedTouches,function(u){t[u.identifier]=Ge(u)}):t[e.pointerId||0]=Ge(e);var o=i.movable?ce:!1;i.zoomOnTouch&&i.zoomable&&Object.keys(t).length>1?o=se:i.slideOnTouch&&(e.pointerType==="touch"||e.type==="touchstart")&&this.isSwitchable()&&(o=T),i.transition&&(o===ce||o===se)&&U(this.image,m),this.action=o}},pointermove:function(e){var i=this.pointers,t=this.action;!this.viewed||!t||(e.preventDefault(),e.changedTouches?Q(e.changedTouches,function(a){be(i[a.identifier]||{},Ge(a,!0))}):be(i[e.pointerId||0]||{},Ge(e,!0)),this.change(e))},pointerup:function(e){var i=this,t=this.options,a=this.action,s=this.pointers,o;e.changedTouches?Q(e.changedTouches,function(u){o=s[u.identifier],delete s[u.identifier]}):(o=s[e.pointerId||0],delete s[e.pointerId||0]),a&&(e.preventDefault(),t.transition&&(a===ce||a===se)&&p(this.image,m),this.action=!1,E&&a!==se&&o&&Date.now()-o.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),t.toggleOnDblclick&&this.viewed&&e.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){he(i.image,oe,{originalEvent:e})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){i.imageClicked=!1},500)):(this.imageClicked=!1,t.backdrop&&t.backdrop!=="static"&&e.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){he(i.canvas,G,{originalEvent:e})},50)))))},resize:function(){var e=this;if(!(!this.isShown||this.hiding)&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){this.stop();return}Q(this.player.getElementsByTagName("img"),function(i){b(i,le,e.loadImage.bind(e),{once:!0}),he(i,le)})}},wheel:function(e){var i=this;if(this.viewed&&(e.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){i.wheeling=!1},50);var t=Number(this.options.zoomRatio)||.1,a=1;e.deltaY?a=e.deltaY>0?1:-1:e.wheelDelta?a=-e.wheelDelta/120:e.detail&&(a=e.detail>0?1:-1),this.zoom(-a*t,!0,null,e)}}},Mt={show:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=this.element,t=this.options;if(t.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(e),this;if(X(t.show)&&b(i,ze,t.show,{once:!0}),he(i,ze)===!1||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var a=this.viewer;if(U(a,C),a.setAttribute("role","dialog"),a.setAttribute("aria-labelledby",this.title.id),a.setAttribute("aria-modal",!0),a.removeAttribute("aria-hidden"),t.transition&&!e){var s=this.shown.bind(this);this.transitioning={abort:function(){$(a,pe,s),U(a,_)}},p(a,m),a.initialOffsetWidth=a.offsetWidth,b(a,pe,s,{once:!0}),p(a,_)}else p(a,_),this.shown();return this},hide:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.element,a=this.options;if(a.inline||this.hiding||!(this.isShown||this.showing))return this;if(X(a.hide)&&b(t,it,a.hide,{once:!0}),he(t,it)===!1)return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var s=this.viewer,o=this.image,u=function(){U(s,_),e.hidden()};if(a.transition&&!i){var d=function l(f){f&&f.target===s&&($(s,pe,l),e.hidden())},c=function(){Re(s,m)?(b(s,pe,d),U(s,_)):u()};this.transitioning={abort:function(){e.viewed&&Re(o,m)?$(o,pe,c):Re(s,m)&&$(s,pe,d)}},this.viewed&&Re(o,m)?(b(o,pe,c,{once:!0}),this.zoomTo(0,!1,null,null,!0)):c()}else u();return this},view:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.initialViewIndex;if(i=Number(i)||0,this.hiding||this.played||i<0||i>=this.length||this.viewed&&i===this.index)return this;if(!this.isShown)return this.index=i,this.show();this.viewing&&this.viewing.abort();var t=this.element,a=this.options,s=this.title,o=this.canvas,u=this.items[i],d=u.querySelector("img"),c=Fe(d,"originalUrl"),l=d.getAttribute("alt"),f=document.createElement("img");if(Q(a.inheritedAttributes,function(fe){var ve=d.getAttribute(fe);ve!==null&&f.setAttribute(fe,ve)}),f.src=c,f.alt=l,X(a.view)&&b(t,at,a.view,{once:!0}),he(t,at,{originalImage:this.images[i],index:i,image:f})===!1||!this.isShown||this.hiding||this.played)return this;var S=this.items[this.index];S&&(U(S,L),S.removeAttribute("aria-selected")),p(u,L),u.setAttribute("aria-selected",!0),a.focus&&u.focus(),this.image=f,this.viewed=!1,this.index=i,this.imageData={},p(f,M),a.loading&&p(o,F),o.innerHTML="",o.appendChild(f),this.renderList(),s.innerHTML="";var de=function(){var ve=e.imageData,ge=Array.isArray(a.title)?a.title[1]:a.title;s.innerHTML=Ct(X(ge)?ge.call(e,f,ve):"".concat(l," (").concat(ve.naturalWidth," \xD7 ").concat(ve.naturalHeight,")"))},ue,re;return b(t,Ue,de,{once:!0}),this.viewing={abort:function(){$(t,Ue,de),f.complete?e.imageRendering?e.imageRendering.abort():e.imageInitializing&&e.imageInitializing.abort():(f.src="",$(f,le,ue),e.timeout&&clearTimeout(e.timeout))}},f.complete?this.load():(b(f,le,ue=function(){$(f,ne,re),e.load()},{once:!0}),b(f,ne,re=function(){$(f,le,ue),e.timeout&&(clearTimeout(e.timeout),e.timeout=!1),U(f,M),a.loading&&U(e.canvas,F)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){U(f,M),e.timeout=!1},1e3)),this},prev:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=this.index-1;return i<0&&(i=e?this.length-1:0),this.view(i),this},next:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=this.length-1,t=this.index+1;return t>i&&(t=e?0:i),this.view(t),this},move:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,t=this.imageData;return this.moveTo(Ne(e)?e:t.x+Number(e),Ne(i)?i:t.y+Number(i)),this},moveTo:function(e){var i=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=this.element,o=this.options,u=this.imageData;if(e=Number(e),t=Number(t),this.viewed&&!this.played&&o.movable){var d=u.x,c=u.y,l=!1;if(ae(e)?l=!0:e=d,ae(t)?l=!0:t=c,l){if(X(o.move)&&b(s,rt,o.move,{once:!0}),he(s,rt,{x:e,y:t,oldX:d,oldY:c,originalEvent:a})===!1)return this;u.x=e,u.y=t,u.left=e,u.top=t,this.moving=!0,this.renderImage(function(){i.moving=!1,X(o.moved)&&b(s,st,o.moved,{once:!0}),he(s,st,{x:e,y:t,oldX:d,oldY:c,originalEvent:a},{cancelable:!1})})}}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e)),this},rotateTo:function(e){var i=this,t=this.element,a=this.options,s=this.imageData;if(e=Number(e),ae(e)&&this.viewed&&!this.played&&a.rotatable){var o=s.rotate;if(X(a.rotate)&&b(t,ot,a.rotate,{once:!0}),he(t,ot,{degree:e,oldDegree:o})===!1)return this;s.rotate=e,this.rotating=!0,this.renderImage(function(){i.rotating=!1,X(a.rotated)&&b(t,lt,a.rotated,{once:!0}),he(t,lt,{degree:e,oldDegree:o},{cancelable:!1})})}return this},scaleX:function(e){return this.scale(e,this.imageData.scaleY),this},scaleY:function(e){return this.scale(this.imageData.scaleX,e),this},scale:function(e){var i=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,a=this.element,s=this.options,o=this.imageData;if(e=Number(e),t=Number(t),this.viewed&&!this.played&&s.scalable){var u=o.scaleX,d=o.scaleY,c=!1;if(ae(e)?c=!0:e=u,ae(t)?c=!0:t=d,c){if(X(s.scale)&&b(a,ut,s.scale,{once:!0}),he(a,ut,{scaleX:e,scaleY:t,oldScaleX:u,oldScaleY:d})===!1)return this;o.scaleX=e,o.scaleY=t,this.scaling=!0,this.renderImage(function(){i.scaling=!1,X(s.scaled)&&b(a,ct,s.scaled,{once:!0}),he(a,ct,{scaleX:e,scaleY:t,oldScaleX:u,oldScaleY:d},{cancelable:!1})})}}return this},zoom:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=this.imageData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(s.width*e/s.naturalWidth,i,t,a),this},zoomTo:function(e){var i=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,u=this.element,d=this.options,c=this.pointers,l=this.imageData,f=l.x,S=l.y,de=l.width,ue=l.height,re=l.naturalWidth,fe=l.naturalHeight;if(e=Math.max(0,e),ae(e)&&this.viewed&&!this.played&&(o||d.zoomable)){if(!o){var ve=Math.max(.01,d.minZoomRatio),ge=Math.min(100,d.maxZoomRatio);e=Math.min(Math.max(e,ve),ge)}if(s)switch(s.type){case"wheel":d.zoomRatio>=.055&&e>.95&&e<1.05&&(e=1);break;case"pointermove":case"touchmove":case"mousemove":e>.99&&e<1.01&&(e=1);break}var ie=re*e,Pe=fe*e,Se=ie-de,Te=Pe-ue,Ae=l.ratio;if(X(d.zoom)&&b(u,ht,d.zoom,{once:!0}),he(u,ht,{ratio:e,oldRatio:Ae,originalEvent:s})===!1)return this;if(this.zooming=!0,s){var Ke=wt(this.viewer),We=c&&Object.keys(c).length>0?Tt(c):{pageX:s.pageX,pageY:s.pageY};l.x-=Se*((We.pageX-Ke.left-f)/de),l.y-=Te*((We.pageY-Ke.top-S)/ue)}else je(a)&&ae(a.x)&&ae(a.y)?(l.x-=Se*((a.x-f)/de),l.y-=Te*((a.y-S)/ue)):(l.x-=Se/2,l.y-=Te/2);l.left=l.x,l.top=l.y,l.width=ie,l.height=Pe,l.oldRatio=Ae,l.ratio=e,this.renderImage(function(){i.zooming=!1,X(d.zoomed)&&b(u,dt,d.zoomed,{once:!0}),he(u,dt,{ratio:e,oldRatio:Ae,originalEvent:s},{cancelable:!1})}),t&&this.tooltip()}return this},play:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.isShown||this.played)return this;var t=this.element,a=this.options;if(X(a.play)&&b(t,ft,a.play,{once:!0}),he(t,ft)===!1)return this;var s=this.player,o=this.loadImage.bind(this),u=[],d=0,c=0;if(this.played=!0,this.onLoadWhenPlay=o,i&&this.requestFullscreen(i),p(s,K),Q(this.items,function(S,de){var ue=S.querySelector("img"),re=document.createElement("img");re.src=Fe(ue,"originalUrl"),re.alt=ue.getAttribute("alt"),re.referrerPolicy=ue.referrerPolicy,d+=1,p(re,h),Be(re,m,a.transition),Re(S,L)&&(p(re,_),c=de),u.push(re),b(re,le,o,{once:!0}),s.appendChild(re)}),ae(a.interval)&&a.interval>0){var l=function S(){clearTimeout(e.playing.timeout),U(u[c],_),c-=1,c=c>=0?c:d-1,p(u[c],_),e.playing.timeout=setTimeout(S,a.interval)},f=function S(){clearTimeout(e.playing.timeout),U(u[c],_),c+=1,c=c<d?c:0,p(u[c],_),e.playing.timeout=setTimeout(S,a.interval)};d>1&&(this.playing={prev:l,next:f,timeout:setTimeout(f,a.interval)})}return this},stop:function(){var e=this;if(!this.played)return this;var i=this.element,t=this.options;if(X(t.stop)&&b(i,mt,t.stop,{once:!0}),he(i,mt)===!1)return this;var a=this.player;return clearTimeout(this.playing.timeout),this.playing=!1,this.played=!1,Q(a.getElementsByTagName("img"),function(s){$(s,le,e.onLoadWhenPlay)}),U(a,K),a.innerHTML="",this.exitFullscreen(),this},full:function(){var e=this,i=this.options,t=this.viewer,a=this.image,s=this.list;return!this.isShown||this.played||this.fulled||!i.inline?this:(this.fulled=!0,this.open(),p(this.button,O),i.transition&&(U(s,m),this.viewed&&U(a,m)),p(t,P),t.setAttribute("role","dialog"),t.setAttribute("aria-labelledby",this.title.id),t.setAttribute("aria-modal",!0),t.removeAttribute("style"),we(t,{zIndex:i.zIndex}),i.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=be({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){i.transition&&setTimeout(function(){p(a,m),p(s,m)},0)})}),this)},exit:function(){var e=this,i=this.options,t=this.viewer,a=this.image,s=this.list;return!this.isShown||this.played||!this.fulled||!i.inline?this:(this.fulled=!1,this.close(),U(this.button,O),i.transition&&(U(s,m),this.viewed&&U(a,m)),i.focus&&this.clearEnforceFocus(),t.removeAttribute("role"),t.removeAttribute("aria-labelledby"),t.removeAttribute("aria-modal"),U(t,P),we(t,{zIndex:i.zIndexInline}),this.viewerData=be({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){i.transition&&setTimeout(function(){p(a,m),p(s,m)},0)})}),this)},tooltip:function(){var e=this,i=this.options,t=this.tooltipBox,a=this.imageData;return!this.viewed||this.played||!i.tooltip?this:(t.textContent="".concat(Math.round(a.ratio*100),"%"),this.tooltipping?clearTimeout(this.tooltipping):i.transition?(this.fading&&he(t,pe),p(t,K),p(t,h),p(t,m),t.removeAttribute("aria-hidden"),t.initialOffsetWidth=t.offsetWidth,p(t,_)):(p(t,K),t.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){i.transition?(b(t,pe,function(){U(t,K),U(t,h),U(t,m),t.setAttribute("aria-hidden",!0),e.fading=!1},{once:!0}),U(t,_),e.fading=!0):(U(t,K),t.setAttribute("aria-hidden",!0)),e.tooltipping=!1},1e3),this)},toggle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.imageData.ratio===1?this.zoomTo(this.imageData.oldRatio,!0,null,e):this.zoomTo(1,!0,null,e),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=be({},this.initialImageData),this.renderImage()),this},update:function(){var e=this,i=this.element,t=this.options,a=this.isImg;if(a&&!i.parentNode)return this.destroy();var s=[];if(Q(a?[i]:i.querySelectorAll("img"),function(c){X(t.filter)?t.filter.call(e,c)&&s.push(c):e.getImageURL(c)&&s.push(c)}),!s.length)return this;if(this.images=s,this.length=s.length,this.ready){var o=[];if(Q(this.items,function(c,l){var f=c.querySelector("img"),S=s[l];S&&f?(S.src!==f.src||S.alt!==f.alt)&&o.push(l):o.push(l)}),we(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var u=o.indexOf(this.index);if(u>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-u,this.length-1),0));else{var d=this.items[this.index];p(d,L),d.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var e=this.element,i=this.options;return e[v]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),i.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):i.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),i.inline||$(e,G,this.onStart),e[v]=void 0,this):this}},St={getImageURL:function(e){var i=this.options.url;return Ve(i)?i=e.getAttribute(i):X(i)?i=i.call(this,e):i="",i},enforceFocus:function(){var e=this;this.clearEnforceFocus(),b(document,te,this.onFocusin=function(i){var t=e.viewer,a=i.target;if(!(a===document||a===t||t.contains(a))){for(;a;){if(a.getAttribute("tabindex")!==null||a.getAttribute("aria-modal")==="true")return;a=a.parentElement}t.focus()}})},clearEnforceFocus:function(){this.onFocusin&&($(document,te,this.onFocusin),this.onFocusin=null)},open:function(){var e=this.body;p(e,q),this.scrollbarWidth>0&&(e.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px"))},close:function(){var e=this.body;U(e,q),this.scrollbarWidth>0&&(e.style.paddingRight=this.initialBodyPaddingRight)},shown:function(){var e=this.element,i=this.options,t=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,i.focus&&(t.focus(),this.enforceFocus()),X(i.shown)&&b(e,tt,i.shown,{once:!0}),he(e,tt)!==!1&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var e=this.element,i=this.options,t=this.viewer;i.fucus&&this.clearEnforceFocus(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.close(),this.unbind(),p(t,C),t.removeAttribute("role"),t.removeAttribute("aria-labelledby"),t.removeAttribute("aria-modal"),t.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.hiding=!1,this.destroyed||(X(i.hidden)&&b(e,nt,i.hidden,{once:!0}),he(e,nt,null,{cancelable:!1}))},requestFullscreen:function(e){var i=this.element.ownerDocument;if(this.fulled&&!(i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement)){var t=i.documentElement;t.requestFullscreen?je(e)?t.requestFullscreen(e):t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen()}},exitFullscreen:function(){var e=this.element.ownerDocument;this.fulled&&(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())},change:function(e){var i=this.options,t=this.pointers,a=t[Object.keys(t)[0]];if(a){var s=a.endX-a.startX,o=a.endY-a.startY;switch(this.action){case ce:(s!==0||o!==0)&&(this.pointerMoved=!0,this.move(s,o,e));break;case se:this.zoom(Ot(t),!1,null,e);break;case T:{this.action="switched";var u=Math.abs(s);u>1&&u>Math.abs(o)&&(this.pointers={},s>1?this.prev(i.loop):s<-1&&this.next(i.loop));break}}Q(t,function(d){d.startX=d.endX,d.startY=d.endY})}},isSwitchable:function(){var e=this.imageData,i=this.viewerData;return this.length>1&&e.x>=0&&e.y>=0&&e.width<=i.width&&e.height<=i.height}},At=w.Viewer,Nt=function(n){return function(){return n+=1,n}}(-1),_t=function(){function n(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(y(this,n),!e||e.nodeType!==1)throw new Error("The first argument is required and must be an element.");this.element=e,this.options=be({},g,je(i)&&i),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.pointerMoved=!1,this.id=Nt(),this.init()}return A(n,[{key:"init",value:function(){var i=this,t=this.element,a=this.options;if(!t[v]){t[v]=this,a.focus&&!a.keyboard&&(a.focus=!1);var s=t.localName==="img",o=[];if(Q(s?[t]:t.querySelectorAll("img"),function(c){X(a.filter)?a.filter.call(i,c)&&o.push(c):i.getImageURL(c)&&o.push(c)}),this.isImg=s,this.length=o.length,this.images=o,this.initBody(),Ne(document.createElement(v).style.transition)&&(a.transition=!1),a.inline){var u=0,d=function(){if(u+=1,u===i.length){var l;i.initializing=!1,i.delaying={abort:function(){clearTimeout(l)}},l=setTimeout(function(){i.delaying=!1,i.build()},0)}};this.initializing={abort:function(){Q(o,function(l){l.complete||($(l,le,d),$(l,ne,d))})}},Q(o,function(c){if(c.complete)d();else{var l,f;b(c,le,l=function(){$(c,ne,f),d()},{once:!0}),b(c,ne,f=function(){$(c,le,l),d()},{once:!0})}})}else b(t,G,this.onStart=function(c){var l=c.target;l.localName==="img"&&(!X(a.filter)||a.filter.call(i,l))&&i.view(i.images.indexOf(l))})}}},{key:"build",value:function(){if(!this.ready){var i=this.element,t=this.options,a=i.parentNode,s=document.createElement("div");s.innerHTML=R;var o=s.querySelector(".".concat(v,"-container")),u=o.querySelector(".".concat(v,"-title")),d=o.querySelector(".".concat(v,"-toolbar")),c=o.querySelector(".".concat(v,"-navbar")),l=o.querySelector(".".concat(v,"-button")),f=o.querySelector(".".concat(v,"-canvas"));if(this.parent=a,this.viewer=o,this.title=u,this.toolbar=d,this.navbar=c,this.button=l,this.canvas=f,this.footer=o.querySelector(".".concat(v,"-footer")),this.tooltipBox=o.querySelector(".".concat(v,"-tooltip")),this.player=o.querySelector(".".concat(v,"-player")),this.list=o.querySelector(".".concat(v,"-list")),o.id="".concat(v).concat(this.id),u.id="".concat(v,"Title").concat(this.id),p(u,t.title?$e(Array.isArray(t.title)?t.title[0]:t.title):C),p(c,t.navbar?$e(t.navbar):C),Be(l,C,!t.button),t.keyboard&&l.setAttribute("tabindex",0),t.backdrop&&(p(o,"".concat(v,"-backdrop")),!t.inline&&t.backdrop!=="static"&&qe(f,He,"hide")),Ve(t.className)&&t.className&&t.className.split(Qe).forEach(function(ie){p(o,ie)}),t.toolbar){var S=document.createElement("ul"),de=je(t.toolbar),ue=Ye.slice(0,3),re=Ye.slice(7,9),fe=Ye.slice(9);de||p(d,$e(t.toolbar)),Q(de?t.toolbar:Ye,function(ie,Pe){var Se=de&&je(ie),Te=de?Je(Pe):ie,Ae=Se&&!Ne(ie.show)?ie.show:ie;if(!(!Ae||!t.zoomable&&ue.indexOf(Te)!==-1||!t.rotatable&&re.indexOf(Te)!==-1||!t.scalable&&fe.indexOf(Te)!==-1)){var Ke=Se&&!Ne(ie.size)?ie.size:ie,We=Se&&!Ne(ie.click)?ie.click:ie,Ie=document.createElement("li");t.keyboard&&Ie.setAttribute("tabindex",0),Ie.setAttribute("role","button"),p(Ie,"".concat(v,"-").concat(Te)),X(We)||qe(Ie,He,Te),ae(Ae)&&p(Ie,$e(Ae)),["small","large"].indexOf(Ke)!==-1?p(Ie,"".concat(v,"-").concat(Ke)):Te==="play"&&p(Ie,"".concat(v,"-large")),X(We)&&b(Ie,G,We),S.appendChild(Ie)}}),d.appendChild(S)}else p(d,C);if(!t.rotatable){var ve=d.querySelectorAll('li[class*="rotate"]');p(ve,M),Q(ve,function(ie){d.appendChild(ie)})}if(t.inline)p(l,D),we(o,{zIndex:t.zIndexInline}),window.getComputedStyle(a).position==="static"&&we(a,{position:"relative"}),a.insertBefore(o,i.nextSibling);else{p(l,x),p(o,P),p(o,h),p(o,C),we(o,{zIndex:t.zIndex});var ge=t.container;Ve(ge)&&(ge=i.ownerDocument.querySelector(ge)),ge||(ge=this.body),ge.appendChild(o)}if(t.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,X(t.ready)&&b(i,ye,t.ready,{once:!0}),he(i,ye)===!1){this.ready=!1;return}this.ready&&t.inline&&this.view(this.index)}}}],[{key:"noConflict",value:function(){return window.Viewer=At,n}},{key:"setDefaults",value:function(i){be(g,je(i)&&i)}}]),n}();return be(_t.prototype,xt,Pt,It,Mt,St),_t})}}]);
