"use strict";(self.webpackChunkcreate_chart=self.webpackChunkcreate_chart||[]).push([[7082],{6226:function(oe,b,t){t.r(b),t.d(b,{default:function(){return se}});var D=t(97857),E=t.n(D),F=t(13769),C=t.n(F),Z=t(88192),p=t(67294),P=t(34104),A=t(79598),N=t(44018),R=t(82052),M=t(62986),Y=t(94184),W=t.n(Y),X=t(63805),$=t.n(X),x={"page-preview-pc":"page-preview-pc___cr9ju","page-preview-h5":"page-preview-h5___nuM0c","page-preview-h5-wrapper":"page-preview-h5-wrapper___neGer"},i=t(85893),z=$()();function k(a){var e=a.flag,r=a.children,n=a.scale,f=(0,R.Z)(function(){return document.querySelector(".page-preview-container")})||{},c=f.height,o=c===void 0?0:c;return z&&e==="PC"?(0,i.jsx)(M.Z,{description:"\u8BF7\u5728\u7535\u8111\u7AEF\u4F7F\u7528",style:{position:"relative",top:"50%",transform:"translateY(-50%)"}}):!z&&e==="H5"?(0,i.jsx)(M.Z,{description:"\u8BF7\u5728\u624B\u673A\u7AEF\u4F7F\u7528",style:{position:"relative",top:"50%",transform:"translateY(-50%)"}}):e==="H5"?(0,i.jsx)("div",{className:W()("w-100 h-100 zero-scrollbar",x["page-preview-h5-wrapper"]),children:(0,i.jsx)("div",{className:"w-100",style:{height:o*n,overflow:"hidden"},children:r})}):(0,i.jsx)(i.Fragment,{children:r})}var B=(0,P.connect)(function(a){return{flag:a.global.screenData.config.flag.type}},function(){return{}})(k),G=function(e){return{waterMark:e.global.screenData.config.attr.waterMark}},L=function(e){return{}},U={"designer-water-mark":"designer-water-mark____ZKG4"},V=function(e){var r=e.waterMark;return(0,i.jsx)("div",{className:U["designer-water-mark"],style:{display:r?"block":"none"}})},K=(0,P.connect)(G,L)(V),I=t(5574),T=t.n(I),J=t(45210),O=t(19515),Q=function(e){var r=e.containerWidth,n=e.containerHeight,f=e.setScale,c=e.flag,o=c===void 0?"PC":c,l=e.scale,S=(0,p.useState)({width:1920,height:1080}),d=T()(S,2),s=d[0],y=s.width,u=s.height,w=d[1],h=function(){var g=document.documentElement.clientWidth,ce=document.documentElement.clientHeight;w({width:g,height:ce})},v=(0,p.useMemo)(function(){var m=y/r,g=u/n;if(o==="H5")return[m,m];switch(l){case"full":return[m,g];case"fit-width":return[m,m];case"fit-height":return[g,g];case"fit-height-scroll":return[g,g];case"none":default:return[1,1]}},[y,u,r,n,o,l]),H=T()(v,2),j=H[0],ie=H[1];return(0,p.useEffect)(function(){return(0,O._v)(1e3).then(h),window.addEventListener("resize",h),function(){window.removeEventListener("resize",h)}},[]),(0,p.useEffect)(function(){f(j*100)},[j,f]),[j,ie]},q=Q,_=function(e){var r=e.containerWidth,n=e.containerHeight,f=e.setScale,c=e.flag,o=c===void 0?"PC":c,l=e.scale,S=q({containerWidth:r,containerHeight:n,setScale:f,flag:o,scale:l}),d=T()(S,2),s=d[0],y=d[1];return(0,p.useEffect)(function(){var u=document.querySelector("html"),w=document.body,h=document.querySelector("#root"),v="";if(u)switch(l){case"full":case"fit-width":case"fit-height":case"none":u.style.overflow="hidden visible";break;case"fit-height-scroll":u.style.overflow="visible hidden";break}switch(l){case"full":v+="transform: scale(".concat(s,", ").concat(y,");");break;case"fit-width":v+="transform: scale(".concat(s,") translateY(-50%);position: relative;top:50%;");break;case"fit-height":v+="transform: scale(".concat(s,") translateX(-50%);position: relative;left:50%;");break;case"none":break;case"fit-height-scroll":v+="transform: scale(".concat(s,") translateX(-50%);position: relative;left:50%;");break}v+="transform-origin: left top;width: ".concat(r,"px; height: ").concat(n,"px"),w.style.cssText=v,h&&(h.style.overflow="visible")},[o,s,y,l,r,n]),(0,J.Z)(function(){var u=document.querySelector("html"),w=document.body,h=document.querySelector("#root");u&&(u.style.overflow=""),w.style.cssText="transform: '';width: '';height: '';position:'';left:'';top:'';",h&&(h.style.overflow="")}),o==="H5"?{className:W()(x["page-preview-h5"],"page-preview-container"),style:{transform:"scale(".concat(s,") translateX(0)"),minHeight:"calc( 100vh / ".concat(s," )")},scale:s}:{className:W()(x["page-preview-pc"],"page-preview-container"),style:{transform:"scale(1)"},scale:s}},ee=_,te=function(e){return{width:e.global.screenData.config.style.width,height:e.global.screenData.config.style.height,flag:e.global.screenData.config.flag.type,scale:e.global.screenData.config.attr.scale}},ae=function(e){return{setScreenType:function(n){return e({type:"global/setScreenType",value:n})},setScale:function(n){return e({type:"global/setScale",value:n})}}},re=["scale"];function ne(a){var e=a.setScreenType,r=a.width,n=a.height,f=a.setScale,c=a.flag,o=a.scale,l=ee({containerWidth:r,containerHeight:n,setScale:f,flag:c,scale:o}),S=l.scale,d=C()(l,re);return(0,p.useEffect)(function(){e("preview")},[e]),(0,Z.Un)(function(){}),(0,i.jsxs)(B,{scale:S,children:[(0,i.jsx)(N.rb,E()({},d)),(0,i.jsx)(A.Z,{}),(0,i.jsx)(K,{})]})}var se=(0,P.connect)(te,ae)(ne)}}]);
